var i18n={lang:{es:"Espa&ntilde;ol",en:"English"},eltos:{gui:{},cfg:{},examples:{},states:{},help:{}}};var tutorials={};tutorials.welcome={};tutorials.welcome.en=[];tutorials.welcome.es=[];tutorials.simpleusage={};tutorials.simpleusage.en=[];tutorials.simpleusage.es=[];var tour_steps={};function i18n_init(){for(var a in i18n.lang){for(var b in i18n.eltos){i18n.eltos[b][a]={}}}return true}i18n_init();function i18n_update_tags(b){var a=get_cfg("ws_idiom");i18n_update_tagsFor(b,a)}function i18n_update_tagsFor(b,c){if(typeof i18n.eltos[b]=="undefined"){return}var a=document.querySelectorAll("span");Array.from(a).forEach(function(f,d){var e=f.dataset.langkey;if(i18n.eltos[b][c][e]){f.innerHTML=i18n.eltos[b][c][e]}})}function i18n_get(a,c,b){var d=i18n.eltos[a][c][b];if(typeof d==="undefined"){d=b}return d}function i18n_get_dropdown(c,d){var e="";for(var a in i18n.lang){e+=' <a class="dropdown-item" href="#"    onclick="set_cfg(\'ws_idiom\',\''+a+"'); save_cfg();";for(var b=0;b<c.length;b++){e+="             i18n_update_tags('"+c[b]+"', '"+a+"') ;"}e+=d;e+='             return false;">'+a.toUpperCase()+'<span class="d-none d-sm-inline-flex">&nbsp;('+i18n.lang[a]+")</span></a>"}return e}i18n.eltos.gui.es={"Loading WepSIM...":"Cargando WepSIM...",Configuration:"Configuraci&oacute;n",MicroCode:"MicroC&oacute;digo",Assembly:"Ensamblador",Simulator:"Simulador",Examples:"Ejemplos",Load:"Cargar",Save:"Guardar",Restore:"Restaurar",Help:"Ayuda","Help Index":"&Iacute;ndice ayuda",Processor:"Procesador","Assembly Debugger":"Depurador de Ensamblador",Reset:"Reiniciar",Instruction:"Instrucci&oacute;n",Run:"Ejecutar","Hardware Summary":"Hardware Resumido",processor:"procesador",details:"detalles",microcode:"microc&oacute;digo",Signals:"Se&ntilde;ales",Behaviors:"Comportamientos",States:"Estados","Control States":"Estados de Control",Dependencies:"Dependencias",Close:"Cerrar",Show:"Mostrar","Show Main Memory":"Mostrar Memoria Principal",compile:"compilar",Compile:"Compilar","Please write the file name":"Por favor indique el nombre de fichero","Load from this File":"Cargar de este fichero",labels:"etiquetas",addr:"dir",ess:"ecci&oacute;n",content:"contenido",assembly:"ensamblador",instructions:"instrucciones","simulator intro 1":"Primero se ha de cargar y microcompilar el microc&oacute;digo que define el conjunto de instrucciones a usar.<br>Puede usar un ejemplo, cargar uno desde fichero o editar uno nuevo.","simulator intro 2":"A continuaci&oacute;n ha de cargar y compilar el c&oacute;digo ensamblador a ser ejecutado.<br>Puede usar un ejemplo, cargar uno desde fichero o editar uno nuevo.","simulator intro 3":"En la pantalla de simulaci&oacute;n, puede ejecutar el microcode+assembly cargardo anteriormente. Se puede ejecutar paso a paso a nivel de ensamblador o microinstrucci&oacute;n.","Prev.":"Anterior",Next:"Siguiente",End:"Fin","Disable tutorial mode":"Deshabilitar modo tutorial","Show Notifications":"Mostrar notificaciones","Show/Hide ActionBar":"Mostrar/Ocultar barra","Show/Hide Slider":"Mostrar/Ocultar slider","Show/Hide Record":"Mostrar/Ocultar Grabaci&oacute;n","Initial intro":"Intro inicial","About WepSIM":"Sobre WepSIM",Recent:"Reciente",Refresh:"Refrescar"};tutorials.welcome.es.push({id:"welcome",title:"¡Bienvenidos al simulador WepSIM!",message:"<center><img alt='wepsim screenshot' src='help/simulator/simulator012.jpg' style='max-width:100%; max-height:40vh;'></center><p><h5>Este breve tutorial le mostrar&aacute;:<ol><li><a href='#' onclick='sim_tutorial_goframe(\"welcome\",0,1);'>Carga de un ejemplo.</a></li><li><a href='#' onclick='sim_tutorial_goframe(\"welcome\",0,2);'>Ejecución de ejemplo.</a></li><li><a href='#' onclick='sim_tutorial_goframe(\"welcome\",0,3);'>Configuraci&oacute;n del simulador.</a></li><li><a href='#' onclick='sim_tutorial_goframe(\"welcome\",0,4);'>Obtener ayuda.</a></li></ol></h5>",code_pre:function(){},code_post:function(){},wait_next:100});tutorials.welcome.es.push({id:"welcome",title:"C&oacute;mo cargar algunos ejemplos.",message:"<center><img alt='wepsim screenshot' src='help/welcome/example_usage.gif' style='max-width:100%; max-height:60vh'></center><p><h5>Haga click en el bot&oacute;n de 'examples' y haga click en el 't&iacute;tulo' del ejemplo que desea cargar.<br></h5>",code_pre:function(){},code_post:function(){},wait_next:100});tutorials.welcome.es.push({id:"welcome",title:"C&oacute;mo cargar algunos ejemplos.",message:"<center><img alt='wepsim screenshot' src='help/welcome/simulation_xinstruction.gif' style='max-width:100%; max-height:60vh'></center><p><h5>Haga click en next instruction/microinstruction para ejecutar paso a paso. <br>Haga click en run para ejecutar hasta el primer punto de ruptura o el fin del programa en ensamblador.<br></h5>",code_pre:function(){},code_post:function(){},wait_next:100});tutorials.welcome.es.push({id:"welcome",title:"C&oacute;mo configurar WepSIM.",message:"<center><img alt='wepsim screenshot' src='help/welcome/config_usage.gif' style='max-width:100%; max-height:60vh'></center><p><h5>Haga click en el bot&oacute;n de configuraci&oacute;n para configurar diversos aspectos de WepSIM para su comididad.<br></h5>",code_pre:function(){},code_post:function(){},wait_next:100});tutorials.welcome.es.push({id:"welcome",title:"C&oacute;mo conseguir la ayuda b&aacute;sica.",message:"<center><img alt='wepsim screenshot' src='help/welcome/help_usage.gif' style='max-width:100%; max-height:60vh'></center><p><h5>Haga click en el bot&oacute;n verde de ayuda 'help'.<br>Puede obtener la ayuda en Spanish/English, ir al &iacute;ndice de la ayuda o cerrar la pantalla de ayuda.<br></h5>",code_pre:function(){},code_post:function(){},wait_next:100});tutorials.welcome.es.push({id:"welcome",title:"¡Bienvenido a WepSIM!",message:"<center><img alt='wepsim screenshot' src='help/welcome/help_usage.gif' style='max-width:100%; max-height:60vh'></center><p><h5>Por favor explorer las secciones de la ayuda para m&aacute;s informaci&oacute;n. <br>Si hace click en el bot&oacute;n 'end' del tutorial entonces WepSIM cargar&aacute; el primer ejemplo por usted. ¡Diviertase aprendiendo!<br></h5>",code_pre:function(){},code_post:function(){load_from_example_firmware("ep:S1E1",true)},wait_next:100});tutorials.simpleusage.es.push({id:"simpleusage",title:"WepSIM: microprogramar, ensamblar y simular",message:"<center><img alt='wepsim screenshot' src='help/simulator/simulator011.jpg' style='max-width:100%; max-height:40vh;'></center><p><h5>Este breve tutorial le mostrar&aacute;:<ol><li><a href='#' onclick='sim_tutorial_goframe(\"simpleusage\",0,1);'>La edici&oacute;n de microc&oacute;digo.</a></li><li><a href='#' onclick='sim_tutorial_goframe(\"simpleusage\",0,3);'>La edici&oacute;n de c&oacute;digo ensamblador.</a></li><li><a href='#' onclick='sim_tutorial_goframe(\"simpleusage\",0,5);'>Ejecución del anterior ensamblador definido anteriormente.</a></li></ol></h5>",code_pre:function(){},code_post:function(){},wait_next:100});tutorials.simpleusage.es.push({id:"simpleusage",title:"WepSIM: microprogramar, ensamblar y simular",message:"<center><img alt='wepsim screenshot' src='help/simulator/firmware001.jpg' style='max-width:100%; max-height:40vh;'></center><p><h5>El primer paso es microprogramar el firmware a ser usado. Por favor use el bot&oacute;n de 'Microcode' para ir a la pantalla de trabajo del microc&oacute;digo.</h5>",code_pre:function(){},code_post:function(){},wait_next:100});tutorials.simpleusage.es.push({id:"simpleusage",title:"WepSIM: microprogramar, ensamblar y simular",message:"<center><img alt='wepsim screenshot' src='help/simulator/firmware002.jpg' style='max-width:100%; max-height:40vh;'></center><p><h5>La pantalla de microprogramación ofrece:<ul><li>El editor de microcr&oacute;digo.</li><li>El microcompilador.</li><li>El resumen del hardware y la ayuda.</li></ul>Una vez que el microc&oacute;digo est&eacute; listo (editado y compile sin errores) el siguiente paso el el c&oacute;digo ensamblador.</h5>",code_pre:function(){},code_post:function(){},wait_next:100});tutorials.simpleusage.es.push({id:"simpleusage",title:"WepSIM: microprogramar, ensamblar y simular",message:"<center><img alt='wepsim screenshot' src='help/simulator/assembly002b.jpg' style='max-width:100%; max-height:40vh;'></center><p><h5>El segundo paso es programar el ensamblador a ser ejecutado. Por favor use el bot&oacute;n de 'Assembly' para ir a la pantalla de ensamblador.</h5>",code_pre:function(){},code_post:function(){},wait_next:100});tutorials.simpleusage.es.push({id:"simpleusage",title:"WepSIM: microprogramar, ensamblar y simular",message:"<center><img alt='wepsim screenshot' src='help/simulator/assembly003.jpg' style='max-width:100%; max-height:40vh;'></center><p><h5>La pantalla de programaci&oacute;n en ensamblador ofrece:<ul><li>El editor para el c&oacute;digo ensamblador.</li><li>El compilador de ensamblador.</li><li>El visualizador de mapa de memoria y ayuda.</li></ul>Asegure antes de ir a la pantalla del simulador que su c&oacute;digo este listo (editado y compilado sin errores).</h5>",code_pre:function(){},code_post:function(){},wait_next:100});tutorials.simpleusage.es.push({id:"simpleusage",title:"WepSIM: microprogramar, ensamblar y simular",message:"<center><img alt='wepsim screenshot' src='help/simulator/simulator010.jpg' style='max-width:100%; max-height:40vh;'></center><p><h5>El tercer paso es ejecutar el c&oacute;digo ensamblador en el ensamblador.<br>La pantalla de simulación ofrece:<ul><li>Las vista de ensamblador y hardware.</li><li>Los detalles de registros, memoria de control, memoria principal, etc.</li><li>Las acciones de reinicio, ejecución paso a paso o hasta punto de ruptura (o fin).</li></ul>Este tutorial ha introducido el uso t&iacute;pico de WepSIM para estudiantes y profesores. ¡Disfrute con WepSIM!.</h5>",code_pre:function(){},code_post:function(){},wait_next:100});tour_steps.es=[{intro:" Welcome to WepSIM!<br> ¡Bienvenido a WepSIM!<br> <br><a class=\"btn btn-sm btn-outline-dark mx-2\" href=\"#\"   onclick=\"set_cfg('ws_idiom','es'); save_cfg(); i18n_update_tags('gui'); tour.exit(); wepsim_newbie_tour();\">Spanish</a><a class=\"btn btn-sm btn-outline-dark mx-2\" href=\"#\"  onclick=\"set_cfg('ws_idiom','en'); save_cfg(); i18n_update_tags('gui'); tour.exit(); wepsim_newbie_tour();\">English</a><br>",position:"auto"},{intro:"WepSIM ayudar&aacute; a entender mejor c&oacute;mo funciona un computador: es visual, interactivo, integra interrupciones, llamadas al sistema, etc. <br><br>Nosotros realmente creemos que WepSIM es una herramienta revolucionaria. Este breve tour le muestra las partes clave de la interfaz de WepSIM.",position:"top"},{element:"#select4",intro:"En la esquina superior derecha est&aacute; el selector de 'modo de ejecuci&oacute;n'.<br><br>Permite seleccionar el hardware con el que trabajar (ejemplo: procesador elemental o EP). O tambi&eacute;n el tutorial inicial, recomendado para principiantes.",position:"top"},{element:"#btn_help1",intro:"En la esquina superior derecha el bot&oacute;n de ayuda abre el panel de ayuda asociado.<br><br>El cuadro de di&aacute;logo permite el acceso a tutoriales, informaci&oacute;n, etc.",position:"top"},{element:"#btn_example1",intro:"En la esquina superior izquierda, el bot&oacute;n de 'ejemplos' abre el panel asociado.<br><br>Hay muchos ejemplos muy &uacute;tiles para el aprendizaje incremental.",position:"top"},{element:"#btn_cfg1",intro:"En la esquina superior izquierda est&aacute; el bot&oacute;n de configuracion que abre el cuadro de di&aacute;logo de la configuraci&oacute;n.<br><br>Con la configuraci&oacute;ón se puede adaptar distintos aspectos de ejecuci&oacute;n, interfaz de usuario/a, preferencias, etc.",position:"top"},{intro:"¡Felicidades!. Ya conoce las partes clave de la interfaz de WepSIM.<br>Desde el panel de 'Ayuda' puede acceder al 'Tutorial de bienvenida'. para continuar aprendiendo.<br>",position:"top"}];i18n.eltos.cfg.es={General:"General","Idiom for help, examples, etc.":"Idioma para ayuda, ejemplos, etc.","Notification speed: time before disapear":"Velocidad en notificaciones: tiempo en desaparecer",Editor:"Editor","Editor theme: light or dark":"Tema de editor: claro u oscuro",Light:"Claro",Dark:"Oscuro","Editor mode: vim, emacs, etc.":"Modo de edici&oacute;n: vim, emacs, etc.",Execution:"Ejecuci&oacute;n","Running speed: execution speed":"Velocidad de ejecuci&oacute;n",Slow:"Lento",Normal:"Normal",Fast:"Veloz","Step-by-step: element in run mode":"Paso-a-paso: elemento a ejecutar de uno a uno",Instructions:"Instrucciones",Instruction:"Instrucci&oacute;n","&#181;instructions":"&#181;instrucciones",microInstruction:"&#181;Instrucci&oacute;n","Breakpoint icon: icon to be used for breakpoints":"Icono a ser usado en puntos de ruptura","Limit instructions: number of instructions to be executed":"L&iacute;mite instrucciones: n&uacute;mero de instrucciones a ser ejecutadas","Limit instruction ticks: to limit clock ticks":"L&iacute;mite ticks: limitaci&oacute;n de ticks de reloj por instrucci&oacute;n","Register file":"Banco de registros","Display format":"Formato de presentaci&oacute;n","Register file names":"Nombre de los registros",Numbers:"N&uacute;meros",Labels:"Etiquetas","Editable registers: edit register file values":"Registros editables: editar los valores de los registros","Circuitry simulation":"Circuiter&iacute;a","Data-path color":"Color del camino de datos","Signal color":"Color de las seńales activas","Show by value or by activation":"Mostrar por valor o por activaci&oacute;n",Value:"Valor",Activation:"Activaci&oacute;n","Interactive mode: signal value can be updated":"Modo interactivo: valores de las seńales puede actualizarse","Quick interactive mode: quick update of signal value":"Modo interactivo-r&aacute;pido: actualizaci&oacute;n r&aacute;pida de valores de seńales","WepSIM User Interface Skin":"Variante de Interfaz de Usuario para WepSIM","(example)":"(ejemplo)",Accesibility:"Accesibilidad","Active voice: external voice control":"Activar voz: control por voz (externo)","Verbalization: textual or mathematical":"Tipo de verbalizar: texto o matem&aacutre;tica","Enable experimental features":"Habilitar caracter&iacute;sticas experimentales"};i18n.eltos.help.es={"Welcome tutorial":"Tutorial de bienvenida",help_01_01:"Abre el tutorial de bienvenida","Simple usage tutorial":"Tutorial simple de uso",help_01_02:"Tutorial de uso simple, ejemplo básico para microprogramar y programar en ensamblador","Simulator: firmware":"Simulador: microc&oacute;digo",help_02_01:"Descripci&oacute;n de c&oacute;mo trabajar en el simulador con el microc&oacute;digo","Microcode format":"Formato del microc&oacute;digo",help_02_02:"Sint&aacute;xis del microc&oacute;digo usado","Simulator: assembly":"Simulador: ensamblador",help_02_03:"Descripción de cómo trabajar en el simulador con el ensamblador","Assembly format":"Formato del ensamblador",help_02_04:"Sintáxis del ensamblador","Simulator: execution":"Simulador: ejecuci&oacute;n",help_02_05:"Descripción de cómo ejecutar en el simulador el ensamblador y microc&oacute;digo","Simulated architecture":"Arquitectura del simulador",help_03_01:"Descripción de la arquitectura del procesador simulado","Simulated signals":"Señales simuladas",help_03_02:"Resumen de las señales principales del procesador elemental","Hardware summary":"Resumen del Hardware",help_03_03:"Resumen del hardware del procesador elemental simulado","License, platforms, etc.":"Licencia, plataformas, etc.",help_04_01:"Licencia de WepSIM, plataformas disponibles, tecnologías usadas",Authors:"Autores",help_04_02:"Autores de WepSIM"};i18n.eltos.states.es={States:"Estados",Current:"Actual","Current State":"Estado Actual",History:"Historia",None:"Ninguno","Empty history":"Historia vac&iacute;a","Empty (only modified values are shown)":"Vac&iacute;o (solo se muestra los valores modificados)",Differences:"Diferencias","differences with clipboard state":"diferencias con estado en portapapeles","Meets the specified requirements":"Iguales (cumple los requisitos)",history:"historial",Add:"A&ntilde;adir","'Current State' to History":"'Estado Actual' al historial",Check:"Comprobar",Copy:"Copiar","to clipboard":"al portapapeles",Checkpoint:"Checkpoint","File name":"Nombre de fichero","Tag for checkpoint":"Etiqueta para checkpoint","File to be loaded":"Fichero a cargar","Save to File":"Guardar a fichero","State(s) to checkpoint":"Estados para checkpoint","Record to checkpoint":"Grabaci&oacute;n para checkpoint"};i18n.eltos.examples.es={"addv + seqv.":"addv + seqv.","Alloc.s":"Alloc.s","Dummy instruction":"Instrucci&oacute;n vac&iacute;a",Exception:"Excepci&oacute;n",Instructions:"Instrucciones",Interruptions:"Interrupciones","Int. + syscall + except.":"Int. + syscall + excep.","I/O":"E/S",Looping:"Blucles","madd, mmul, mxch":"madd, mmul, mxch","Masks & shift":"M&aacute;scaras y desplazamientos",Matrix:"Matriz","Memory access":"Acceso a memoria","SC 1, 4-5, 8, 11-12":"SC 1, 4-5, 8, 11-12","strlen_2 + skipasciicode_2":"strlen_2 + skipasciicode_2",Subrutine:"Subrutina","syscall 1, 4-5, 8, 11-12":"syscall 1, 4-5, 8, 11-12","System call":"Llamada a systema",Threads:"Hilos",Vector:"Vector",example_04_01:"Ejemplo avanzado con interrupciones, llamada al sistema y excepciones.",example_05_01:"Extensiones Espec&iacute;ficas de Aplicaci&oacute;n: addv + seqv.",example_05_03:"Extensiones Espec&iacute;ficas de Aplicaci&oacute;n: madd + mmul + mxch.",example_05_02:"Extensiones Espec&iacute;ficas de Aplicaci&oacute;n: strlen_2 + skipasciicode_2.",example_03_01:"Ejemplo <b>Instructive</b> con excepci&oacute;n de coma flotante.",example_03_02:"Ejemplo <b>Instructive</b> con interrupciones: fetch, RETI y .ktext/.kdata.",example_03_03:"Ejemplo <b>Instructive</b> con llamada al sistema.",example_04_04:"Examplo de malloc + free.",example_04_02:"Examplo de llamada a sistema para imprimir/leer enteros y string.",example_04_03:"Examplo de hilos.",example_03_01b:"Examplo con excepci&oacute;n de coma flotante.",example_03_02b:"Examplo con interrupciones: fetch, RETI y .ktext/.kdata.",example_02_01:"Examplo con acceso con E/S programada y segmento de .text/.data b&aacute;sico.",example_03_03b:"Examplo con llamada a sistema.",example_02_02:"Ejemplo extendido con m&aacute;s instrucciones y E/S (teclado y pantalla).",example_02_04:"Ejemplo extendido con subrutina y matriz.",example_02_03:"Ejemplo extendido con m&aacute;scaras, desplazamiento y segmentos b&aacute;sicos.",example_01_01:"Ejemplo simple con fetch, instrucciones artim&eacute;ticas y segmentos b&aacute;sicos.",example_01_04:"Ejemplo simple con fetch, salto y segmento b&aacute;sico de .text/.data.",example_01_03:"Ejemplo simple con fetch, salto y segmento b&aacute;sico de .text.",example_01_02:"Ejemplo simple con fetch, acceso a memoria, y segmento b&aacute;sico de .text/.data.",example_06_01:"Ejemplo de prueba.",Advanced:"Avanzado",Initial:"Inicial",Intermediate:"Intermedio",Laboratory:"Laboratorio","Operating Systems":"Sistemas Operativos",Special:"Especial","Load Assembly only":"Cargar Ensamblador solo","Load Firmware only":"Cargar Firmware solo","Copy reference to clipboard":"Copiar referencia al portapapeles","No examples available...":"No examples are available for the selected hardware","Simple example":"Ejemplo simple."};i18n.eltos.gui.en={"Loading WepSIM...":"Loading WepSIM...",Configuration:"Configuration",MicroCode:"MicroCode",Assembly:"Assembly",Simulator:"Simulator",Examples:"Examples",Load:"Load",Save:"Save",Restore:"Restore",Help:"Help","Help Index":"Help Index",Processor:"Processor","Assembly Debugger":"Assembly Debugger",Reset:"Reset",Instruction:"Instruction",Run:"Run","Hardware Summary":"Hardware Summary",processor:"processor",details:"details",microcode:"microcode",Signals:"Signals",Behaviors:"Behaviors",States:"States","Control States":"Control States",Dependencies:"Dependencies",Close:"Close",Show:"Show","Show Main Memory":"Show Main Memory",compile:"compile",Compile:"Compile","Please write the file name":"Please write the file name","Load from this File":"Load from this File",labels:"labels",addr:"addr",ess:"ess",content:"content",assembly:"assembly",instructions:"instructions","simulator intro 1":"First, you are going to load and microcompile the microcode that defines the instruction set to be used.<br>You can use an example, load it from a file or you can edit a new one.","simulator intro 2":"Next, you need to load and compile the assembly code to be executed.<br>You can use an example, load it from a file or you can edit a new one.","simulator intro 3":"Finally, in the simulator you are able to execute the microcode plus assembly loaded before. It can be executed step by step at microinstruction level or assembly instruction level.","Prev.":"Prev.",Next:"Next",End:"End","Disable tutorial mode":"Disable tutorial mode","Show Notifications":"Show Notifications","Show/Hide ActionBar":"Show/Hide ActionBar","Show/Hide Slider":"Show/Hide Slider","Show/Hide Record":"Show/Hide Record","Initial intro":"Initial intro","About WepSIM":"About WepSIM",Recent:"Recent",Refresh:"Refresh"};tutorials.welcome.en.push({id:"welcome",title:"Welcome to the WepSIM simulator!",message:"<center><img alt='wepsim screenshot' src='help/simulator/simulator012.jpg' style='max-width:100%; max-height:40vh;'></center><p><h5>This brief tutorial is going to show you how to:<ol><li><a href='#' onclick='sim_tutorial_goframe(\"welcome\",0,1);'>Load an example.</a></li><li><a href='#' onclick='sim_tutorial_goframe(\"welcome\",0,2);'>Execute an example.</a></li><li><a href='#' onclick='sim_tutorial_goframe(\"welcome\",0,3);'>Configure the simulation.</a></li><li><a href='#' onclick='sim_tutorial_goframe(\"welcome\",0,4);'>Get help.</a></li></ol></h5>",code_pre:function(){},code_post:function(){},wait_next:100});tutorials.welcome.en.push({id:"welcome",title:"How to load some example.",message:"<center><img alt='wepsim screenshot' src='help/welcome/example_usage.gif' style='max-width:100%; max-height:60vh'></center><p><h5>Click in the 'example' button, then click in the example 'title' name.<br>Then the example for microcode and assembly is loaded and microcompiled and compiled.<br><br></h5>",code_pre:function(){},code_post:function(){},wait_next:100});tutorials.welcome.en.push({id:"welcome",title:"How to execute an example.",message:"<center><img alt='wepsim screenshot' src='help/welcome/simulation_xinstruction.gif' style='max-width:100%; max-height:60vh'></center><p><h5>Click on next instruction/microinstruction to execute step by step. <br>Click on run button to execute until the first breakpoint or the end of the assembly program.<br></h5>",code_pre:function(){},code_post:function(){},wait_next:100});tutorials.welcome.en.push({id:"welcome",title:"How to configure WepSIM.",message:"<center><img alt='wepsim screenshot' src='help/welcome/config_usage.gif' style='max-width:100%; max-height:60vh'></center><p><h5>Click in the 'configuration' button and users are able to customize different parts of WepSIM.<br></h5>",code_pre:function(){},code_post:function(){},wait_next:100});tutorials.welcome.en.push({id:"welcome",title:"How to get the basic help.",message:"<center><img alt='wepsim screenshot' src='help/welcome/help_usage.gif' style='max-width:100%; max-height:60vh'></center><p><h5>Please click in the green 'help' button to reach the help dialog.<br>You are able to switch idiom (Spanish/English), go to the help index, or close the help dialog.<br></h5>",code_pre:function(){},code_post:function(){},wait_next:100});tutorials.welcome.en.push({id:"welcome",title:"Welcome to WepSIM!",message:"<center><img alt='wepsim screenshot' src='help/welcome/help_usage.gif' style='max-width:100%; max-height:60vh'></center><p><h5>Please explorer the help sections for more information. <br>If you click on the end button of this tutorial, WepSIM is going to load the first example for you. Enjoy!<br></h5>",code_pre:function(){},code_post:function(){load_from_example_firmware("ep:S1E1",true)},wait_next:100});tutorials.simpleusage.en.push({id:"simpleusage",title:"Simple WepSIM experience: microprogramming and programming",message:"<center><img alt='wepsim screenshot' src='help/simulator/simulator011.jpg' style='max-width:100%; max-height:40vh;'></center><p><h5>This brief tutorial is going to show you how to:<ol><li><a href='#' onclick='sim_tutorial_goframe(\"simpleusage\",0,1);'>Edit your microcode.</a></li><li><a href='#' onclick='sim_tutorial_goframe(\"simpleusage\",0,3);'>Edit your assembly (based on the previous microcode).</a></li><li><a href='#' onclick='sim_tutorial_goframe(\"simpleusage\",0,5);'>Execute the assembly+microcode in the simulation.</a></li></ol></h5>",code_pre:function(){},code_post:function(){},wait_next:100});tutorials.simpleusage.en.push({id:"simpleusage",title:"Simple WepSIM experience: microprogramming and programming",message:"<center><img alt='wepsim screenshot' src='help/simulator/firmware001.jpg' style='max-width:100%; max-height:40vh;'></center><p><h5>The first step is to microprogramming the firmware to be used. Please use the 'Microcode' button to switch to the microcode screen.</h5>",code_pre:function(){},code_post:function(){},wait_next:100});tutorials.simpleusage.en.push({id:"simpleusage",title:"Simple WepSIM experience: microprogramming and programming",message:"<center><img alt='wepsim screenshot' src='help/simulator/firmware002.jpg' style='max-width:100%; max-height:40vh;'></center><p><h5>The microprogramming screen provides:<ul><li>The editor for the microcode.</li><li>The microcompiler.</li><li>The hardware summary and help.</li></ul>Once your code is ready (compiled without errors), next step is to go to the assembly screen.</h5>",code_pre:function(){},code_post:function(){},wait_next:100});tutorials.simpleusage.en.push({id:"simpleusage",title:"Simple WepSIM experience: microprogramming and programming",message:"<center><img alt='wepsim screenshot' src='help/simulator/assembly002b.jpg' style='max-width:100%; max-height:40vh;'></center><p><h5>The second step is to programming the assembly to be executed. Please use the 'Assembly' button from both, the simulator screen or the microcode screen.</h5>",code_pre:function(){},code_post:function(){},wait_next:100});tutorials.simpleusage.en.push({id:"simpleusage",title:"Simple WepSIM experience: microprogramming and programming",message:"<center><img alt='wepsim screenshot' src='help/simulator/assembly003.jpg' style='max-width:100%; max-height:40vh;'></center><p><h5>The programming screen provides:<ul><li>The editor for the assembly code.</li><li>The assembly compiler.</li><li>The memory map viewer and help.</li></ul>Once your assebly code is ready (edited and compiled without errors) next step is to go into the simulation screen.</h5>",code_pre:function(){},code_post:function(){},wait_next:100});tutorials.simpleusage.en.push({id:"simpleusage",title:"Simple WepSIM experience: microprogramming and programming",message:"<center><img alt='wepsim screenshot' src='help/simulator/simulator010.jpg' style='max-width:100%; max-height:40vh;'></center><p><h5>The third step is to execute the assembly code in the simulator.<br> The simulator screen provides:<ul><li>The assembly and hardware view.</li><li>The detail view of registers, control memory, main memory, etc.</li><li>The reset, step by step or run until breakpoint/end actions.</li></ul>This tutorial has introduced the typical usage of WepSIM for students and teachers. Enjoy WepSIM!</h5>",code_pre:function(){},code_post:function(){},wait_next:100});tour_steps.en=[{intro:" Welcome to WepSIM!<br> ¡Bienvenido a WepSIM!<br> <br><a class=\"btn btn-sm btn-outline-dark mx-2\" href=\"#\"   onclick=\"set_cfg('ws_idiom','es'); save_cfg(); i18n_update_tags('gui'); tour.exit(); wepsim_newbie_tour();\">Spanish</a><a class=\"btn btn-sm btn-outline-dark mx-2\" href=\"#\"  onclick=\"set_cfg('ws_idiom','en'); save_cfg(); i18n_update_tags('gui'); tour.exit(); wepsim_newbie_tour();\">English</a><br>",position:"auto",do_before:function(){return true}},{intro:"WepSIM helps to better understand how a computer works: it is visual, interactive, integrates from signals up to interruptions, system calls, exceptions, etc. <br> <br>We really believe WepSIM is a revolutionary teaching tool. This brief tour introduces the key elements of its interface.",position:"auto",do_before:function(){tour.refresh();return true}},{element:"#select4",intro:"This button on the top-right let users choose the 'execution mode'.<br><br>For example, the hardware to work with (e.g. the elemental processor or EP).<br>Or the tutorial mode, recommended at the beginning ;-).",position:"auto",do_before:function(){wsweb_select_main("ep");tour.refresh();return true}},{element:"#btn_help1",intro:"On the top-right, the 'help' button opens the associated dialog.<br><br>The help dialog summarizes the tutorials, descriptions, information, etc.",position:"auto",do_before:function(){tour.refresh();return true}},{element:"#btn_example1",intro:"And on the left, the 'examples' button open the example dialog.<br><br>There are many examples that can be used to learn incrementally.",position:"auto",do_before:function(){tour.refresh();return true}},{element:"#btn_cfg1",intro:"On the top-left, the 'configuration' button opens the configuration dialog.<br><br>It let users to adapt several aspects of the execution, user interface, preferences, etc.",position:"auto",do_before:function(){tour.refresh();return true}},{intro:"Congrat! You know the key elements in the WepSIM interface.<br>From the 'Help' dialog you can access the 'Welcome tutorial' to continue learning.<br>",position:"auto",do_before:function(){tour.refresh();return true}}];i18n.eltos.cfg.en={General:"General","Idiom for help, examples, etc.":"Idiom for help, examples, etc.","Notification speed: time before disapear":"Notification speed: time before disapear",Editor:"Editor","Editor theme: light or dark":"Editor theme: light or dark",Light:"Light",Dark:"Dark","Editor mode: vim, emacs, etc.":"Editor mode: vim, emacs, etc.",Execution:"Execution","Running speed: execution speed":"Running speed: execution speed",Slow:"Slow",Normal:"Normal",Fast:"Fast","Step-by-step: element in run mode":"Step-by-step: element in run mode",Instructions:"Instructions",Instruction:"Instruction","&#181;instructions":"&#181;instructions",microInstruction:"&#181;Instruction","Breakpoint icon: icon to be used for breakpoints":"Breakpoint icon: icon to be used for breakpoints","Limit instructions: number of instructions to be executed":"Limit instructions: number of instructions to be executed","Limit instruction ticks: to limit clock ticks":"Limit instruction ticks: clock ticks limit per instruction","Register file":"Register file","Display format":"Display format","Register file names":"Register file names",Numbers:"Numbers",Labels:"Labels","Editable registers: edit register file values":"Editable registers: edit register file values","Circuitry simulation":"Circuitry simulation","Data-path color":"Data-path color","Signal color":"Signal color","Show by value or by activation":"Show by value or by activation",Value:"Value",Activation:"Activation","Interactive mode: signal value can be updated":"Interactive mode: signal value can be updated","Quick interactive mode: quick update of signal value":"Quick interactive mode: quick update of signal value","WepSIM User Interface Skin":"WepSIM User Interface Skin","(example)":"(example)",Accesibility:"Accesibility","Active voice: external voice control":"Active voice: external voice control","Verbalization: textual or mathematical":"Verbalization: textual or mathematical","Enable experimental features":"Enable experimental features"};i18n.eltos.help.en={"Welcome tutorial":"Welcome tutorial",help_01_01:"Open the welcome tutorial","Simple usage tutorial":"Simple usage tutorial",help_01_02:"Open the simple usage tutorial, for microprogramming and assembly programming","Simulator: firmware":"Simulator: firmware",help_02_01:"How to work with the firmware to be loaded into the control memory","Microcode format":"Microcode format",help_02_02:"Syntax of the microcode used","Simulator: assembly":"Simulator: assembly",help_02_03:"How to work with the assembly that use the aforementioned firmware","Assembly format":"Assembly format",help_02_04:"Syntax of the assembly elements","Simulator: execution":"Simulator: execution",help_02_05:"How the simulator can execute the assembly and firmware","Simulated architecture":"Simulated architecture",help_03_01:"Description of the simulated processor architecture","Simulated signals":"Simulated signals",help_03_02:"Main signals summary of the simulated elemental processor","Hardware summary":"Hardware summary",help_03_03:"Reference card for the simulated elemental processor hardware","License, platforms, etc.":"License, platforms, etc.",help_04_01:"WepSIM license, supported platforms, technologies used",Authors:"Authors",help_04_02:"Authors of WepSIM"};i18n.eltos.states.en={States:"States",Current:"Current","Current State":"Current State",History:"History",None:"None","Empty history":"Empty history","Empty (only modified values are shown)":"Empty (only modified values are shown)",Differences:"Differences","differences with clipboard state":"differences with clipboard state","Meets the specified requirements":"Meets the specified requirements",history:"history",Add:"Add","'Current State' to History":"'Current State' to History",Check:"Check",Copy:"Copy","to clipboard":"to clipboard",Checkpoint:"Checkpoint","File name":"File name","Tag for checkpoint":"Tag for checkpoint","File to be loaded":"File to be loaded","Save to File":"Save to File","State(s) to checkpoint":"State(s) to checkpoint","Record to checkpoint":"Record to checkpoint"};i18n.eltos.examples.en={"addv + seqv.":"addv + seqv.","Alloc.s":"Alloc.s","Dummy instruction":"Dummy instruction",Exception:"Exception",Instructions:"Instructions",Interruptions:"Interruptions","Int. + syscall + except.":"Int. + syscall + except.","I/O":"I/O",Looping:"Looping","madd, mmul, mxch":"madd, mmul, mxch","Masks & shift":"Masks & shift",Matrix:"Matrix","Memory access":"Memory access","SC 1, 4-5, 8, 11-12":"SC 1, 4-5, 8, 11-12","strlen_2 + skipasciicode_2":"strlen_2 + skipasciicode_2",Subrutine:"Subrutine","syscall 1, 4-5, 8, 11-12":"syscall 1, 4-5, 8, 11-12","System call":"System call",Threads:"Threads",Vector:"Vector",example_04_01:"Advanced example with interruption, system call, and exception.",example_05_01:"Application-specific extension: addv + seqv.",example_05_03:"Application-specific extension: madd + mmul + mxch.",example_05_02:"Application-specific extension: strlen_2 + skipasciicode_2.",example_03_01:"<b>Instructive</b> example with floating point exception.",example_03_02:"<b>Instructive</b> example with interruptions support: fetch, RETI, and .ktext/.kdata.",example_03_03:"<b>Instructive</b> example with system call support.",example_04_04:"Example of malloc + free.",example_04_02:"Example of syscall for printing/reading integer and string.",example_04_03:"Example of threads.",example_03_01b:"Example with floating point exception.",example_03_02b:"Example with interruptions support: fetch, RETI, and .ktext/.kdata.",example_02_01:"Example with programmed I/O access, and basic .text/.data segment.",example_03_03b:"Example with system call support.",example_02_02:"Extended example with more instructions and I/O (keyboard, display).",example_02_04:"Extended example with subrutine and matrix.",example_02_03:"More extended example with masks, shift, and basic .text/.data segment.",example_01_01:"Simple example with fetch, arithmetic instructions, and basic .text segment.",example_01_04:"Simple example with fetch, branch, and basic .text/.data segment.",example_01_03:"Simple example with fetch, branch, and basic .text segment.",example_01_02:"Simple example with fetch, memory access, and basic .text/.data segment.",example_06_01:"Test example.",Advanced:"Advanced",Initial:"Initial",Intermediate:"Intermediate",Laboratory:"Laboratory","Operating Systems":"Operating Systems",Special:"Special","Load Assembly only":"Load Assembly only","Load Firmware only":"Load Firmware only","Copy reference to clipboard":"Copy reference to clipboard","No examples available...":"No examples are available for the selected hardware","Simple example":"Simple example."};function showhideAsmElements(){var e=["label","addr","hex","ins","pins"];for(var d=0;d<e.length;d++){var a="SHOWCODE_"+e[d];var c="table .asm_"+e[d];var b=get_cfg(a);if(b!==false){$(c).show()}else{$(c).hide()}}}function showhideAsmHeader(){var e=["label","addr","hex","ins","pins"];for(var d=0;d<e.length;d++){var a="SHOWCODE_"+e[d];var b=get_cfg(a);var c="#asm_"+e[d];$(c).removeClass("btn-outline-secondary").removeClass("btn-dark");if(b!==false){$(c).addClass("btn-dark")}else{$(c).addClass("btn-outline-secondary")}}}function default_asmdbg_content_horizontal(){var a=get_cfg("ws_idiom");var b="<br><div class='card m-3'>  <div class='row no-gutters'>  <div class='col-md-12'>  <div class='card-body py-0'>    <p class='card-text'>    <div class='badge badge-primary'>1</div>    <span data-langkey='simulator intro 1'>"+i18n_get("gui",a,"simulator intro 1")+"    </span>    </p>  </div>  </div>  </div></div><div class='card m-3'>  <div class='row no-gutters'>  <div class='col-md-12'>  <div class='card-body py-0'>    <p class='card-text'>    <div class='badge badge-primary'>2</div>    <span data-langkey='simulator intro 2'>"+i18n_get("gui",a,"simulator intro 2")+"    </span>    </p>  </div>  </div>  </div></div><div class='card m-3'>  <div class='row no-gutters'>  <div class='col-md-12'>  <div class='card-body py-0'>    <p class='card-text'>    <div class='badge badge-primary'>3</div>    <span data-langkey='simulator intro 3'>"+i18n_get("gui",a,"simulator intro 3")+"    </span>    </p>  </div>  </div>  </div></div>";return b}function default_asmdbg_content_vertical(){var a="<br><div class='container-fluid'><div class='card-column row'><div class='card m-2 col-sm'>  <div class='card-body h-50 py-0'>    <p class='card-text'>    <div class='badge badge-primary'>1</div>    <span data-langkey='simulator intro 1'>"+i18n_get("gui",wsi,"simulator intro 1")+"    </span>    </p>  </div></div><div class='card m-2 col-sm'>  <div class='card-body h-50 py-0'>    <p class='card-text'>    <div class='badge badge-primary'>2</div>    <span data-langkey='simulator intro 2'>"+i18n_get("gui",wsi,"simulator intro 2")+"    </span>    </p>  </div></div><div class='card m-2 col-sm'>  <div class='card-body h-50 py-0'>    <p class='card-text'>    <div class='badge badge-primary'>3</div>    <span data-langkey='simulator intro 3'>"+i18n_get("gui",wsi,"simulator intro 3")+"    </span>    </p>  </div></div></div></div>";return a}function wepsim_click_asm_columns(c){var a="SHOWCODE_"+c;var b=get_cfg(a);b=!b;var e="table .asm_"+c;if(b!==false){$(e).show()}else{$(e).hide()}set_cfg(a,b);save_cfg();var d="#asm_"+c;$(d).removeClass("btn-outline-secondary").removeClass("btn-dark");if(b!==false){$(d).addClass("btn-dark")}else{$(d).addClass("btn-outline-secondary")}}function wepsim_show_asm_columns_checked(a){var b='<button type="button" id="asm_label" aria-label="Show label"         onclick="wepsim_click_asm_columns(\'label\'); return false;"         class="btn btn-sm btn-block btn-outline-secondary mb-1">labels</button><button type="button" id="asm_hex" aria-label="Show content"         onclick="wepsim_click_asm_columns(\'hex\'); return false;"         class="btn btn-sm btn-block btn-outline-secondary mb-1">content</button><button type="button" id="asm_ins" aria-label="Show instruction"         onclick="wepsim_click_asm_columns(\'ins\'); return false;"         class="btn btn-sm btn-block btn-outline-secondary mb-1">assembly</button><button type="button" id="asm_pins" aria-label="Show pseudoinstruction"         onclick="wepsim_click_asm_columns(\'pins\'); return false;"         class="btn btn-sm btn-block btn-outline-secondary mb-1">pseudo<span class="d-none d-md-inline">-instructions</span></button><button type="button" id="close" data-role="none"         class="btn btn-sm btn-danger w-100 p-0 mt-1"         onclick="$(\'#'+a+"').popover('hide');\"><span data-langkey=\"Close\">Close</span></button>";return b}function wepsim_checkpoint_get(f){var b=document.getElementById(f);if(b===null){return false}var e=get_cfg("ws_mode");var a=wepsim_state_get_clk();var c=simcore_simstate_current2state();a.content=simcore_simstate_state2checklist(c);var d={mode:e,firmware:inputfirm.getValue(),assembly:inputasm.getValue(),state_current:a,state_history:wepsim_state_history_get(),record:simcore_record_get(),tag:b.value,notify:true};return d}function wepsim_checkpoint_save(c,f,d){var a=document.getElementById(c);var b=document.getElementById(f);if((a===null)||(b===null)){return false}var e=JSON.stringify(d,null,2);wepsim_save_to_file(e,a.value);return true}function wepsim_checkpoint_load(e,g,d){var a=document.getElementById(e);var c=document.getElementById(g);var b=document.getElementById(d).files[0];if((a===null)||(c===null)||(b===null)){return false}var f=function(i){var h=JSON.parse(i);wepsim_checkpoint_loadFromObj(h,a,c,b)};wepsim_load_from_file(b,f)}function wepsim_checkpoint_loadURI(b,d,g){var a=document.getElementById(d);var c=document.getElementById(g);if((a===null)||(c===null)||(b===null)){return false}try{wepsim_preload_json(b.href,function(e){var h={name:b.href};wepsim_checkpoint_loadFromObj(e,a,c,h)});return true}catch(f){return false}}function wepsim_checkpoint_loadFromObj(g,a,e,d){var f="";var b="";if(g===null){return"null checkpoint"}if(typeof g.mode==="undefined"){g.mode="ep"}if(typeof g.firmware==="undefined"){g.firmware=""}if(typeof g.assembly==="undefined"){g.assembly=""}if(typeof g.state_history==="undefined"){g.state_history=[]}wepsim_state_history_reset();for(var c=0;c<g.state_history.length;c++){state_history.push(g.state_history[c])}wepsim_state_history_list();f+="<li>State: restored into the state history.</li>";wsweb_select_main(g.mode);inputfirm.setValue(g.firmware);inputasm.setValue(g.assembly);f+="<li>Firmware and Assembly: Loaded";b="";if(g.firmware.trim()!==""){wepsim_compile_firmware(g.firmware);b+="Firmware"}if(g.assembly.trim()!==""){wepsim_compile_assembly(g.assembly);b+=" + Assembly"}if(b!==""){f+=" + Compiled"}f+=".</li>";if((typeof a!=="undefined")&&(a!==null)){a.value=d.name}if((typeof a!=="undefined")&&(e!==null)){e.value=g.tag}f+="<li>Tag: <strong>"+g.tag+"</strong></li>";simcore_record_set(g.record);if(f!==""){f="WepSIM has been instructed to restore a checkpoint:<br><ul>"+f+'</ul>To close this notification please press in the <span class="btn btn-sm btn-info py-0" data-dismiss="alert">X</span> mark. <br>'}if(g.notify===true){simcoreui_notify("Restored Checkpoint",f,"info",get_cfg("NOTIF_delay"))}return f}var clipboard_copy="";function get_clipboard_copy(){return clipboard_copy}function SelectText(b){var d=document,e=d.getElementById(b),a,c;if(d.body.createTextRange){a=document.body.createTextRange();a.moveToElementText(e);a.select()}else{if(window.getSelection){c=window.getSelection();a=document.createRange();a.selectNodeContents(e);c.removeAllRanges();c.addRange(a)}}}function wepsim_clipboard_CopyFromDiv(b){var c="unsuccessful";try{SelectText(b);if(document.execCommand("copy")){clipboard_copy=$("#"+b).text();c="successful"}}catch(a){c+=c+" because "+a}wepsim_notify_success("<strong>INFO</strong>","Copied "+c+"!.")}function wepsim_clipboard_CopyFromTextarea(c){var d="successful";try{var b=document.getElementById(c);b.select();document.execCommand("copy");clipboard_copy=$("#"+c).val()}catch(a){d="unsuccessful"}wepsim_notify_success("<strong>INFO</strong>","Copied "+d+"!.")}function wepsim_open_config_index(){$("#container-config2").html(table_config_html(ws_config));for(m=0;m<ws_config.length;m++){ws_config[m].code_init()}$("#container-config2").scrollTop(0);$('a[data-toggle="popover1"]').popover({placement:"bottom",trigger:"focus, hover",animation:false,delay:{show:500,hide:100},sanitizeFn:function(a){return a}});i18n_update_tags("cfg");$("#config2").modal("show");ga("send","event","ui","ui.dialog","ui.dialog.config")}function wepsim_close_config(){$("#config2").modal("hide")}function table_config_html(d){var a="";var b="";var c="";var h="";var j="";var i="";var g="";var f=[];for(var e=0;e<d.length;e++){if(false==array_includes(f,d[e].type)){f.push(d[e].type)}}a=a+'<div class="container grid-striped border border-light">';for(e=0;e<d.length;e++){c="";if(h!=d[e].type){c="<div class='float-none text-right text-capitalize font-weight-bold col-12 border-bottom border-secondary bg-white sticky-top'><span data-langkey='"+d[e].type+"'>"+d[e].type+"</span></div>"}h=d[e].type;j=d[e].code_cfg;i=d[e].description;g=d[e].id;if(b==""){b="bg-light"}else{b=""}a=a+c+"<div class='row py-1 "+b+"' id='"+h+'\'><div class="col-md-auto">    <span class="badge badge-pill badge-light">'+(e+1)+'</span></div><div class="col-md-4">'+j+'</div><div class="col-md collapse7 show"><c>'+i+"</c></div></div>"}a=a+"</div>";return a}function wepsim_show_breakpoint_icon_list(){var c="<div class='container'><div class='row'>";var b="";for(var a=0;a<breakpoint_icon_list.length;a++){if(breakpoint_icon_list[a].type!=b){c=c+"</div><div class='row p-1'><div class='float-none text-left text-capitalize font-weight-bold col-12 border-bottom border-secondary'>"+breakpoint_icon_list[a].type+"</div></div><div class='row'>";b=breakpoint_icon_list[a].type}c=c+"<img src='images/stop/stop_"+breakpoint_icon_list[a].shortname+".gif' alt='"+breakpoint_icon_list[a].shortname+" icon'      class='img-thumbnail col-3 mx-2 d-block'     style='height:6vh; min-height:30px;'     onclick=\"$('#img_select1').attr('src','images/stop/stop_"+breakpoint_icon_list[a].shortname+".gif');	        set_cfg('ICON_theme','"+breakpoint_icon_list[a].shortname+"'); save_cfg();               $('#breakpointicon1').popover('hide');\">"}c=c+'</div><div class="row mt-2 p-1 border-top border-secondary"><button type="button" id="close" data-role="none"         class="btn btn-sm btn-danger w-100 p-0"         onclick="$(\'#breakpointicon1\').popover(\'hide\');"><span data-langkey="Close">Close</span></button></div></div>';return c}var ws_config=[];ws_config.push({id:"select7",type:"General",code_cfg:"<div class='form-group m-0'> <select name='select7' id='select7' class='form-control form-control-sm custom-select'	     aria-label='idiom for examples and help' 	     onchange=\"var opt = $(this).find('option:selected');	 	        var optValue = opt.val();		        update_cfg('ws_idiom', optValue);                    i18n_update_tagsFor('gui', optValue);		        wepsim_open_config_index();\"	     data-native-menu='false'>	<option value='es'>Spanish</option>	<option value='en'>English</option> </select></div>",code_init:function(){$("#select7").val(get_cfg("ws_idiom"))},description:"<span data-langkey='Idiom for help, examples, etc.'>Idiom for help, examples, etc.</span>"});ws_config.push({id:"select8",type:"General",code_cfg:"<div class='form-group m-0'> <select name='select8' id='select8' class='form-control form-control-sm custom-select'	     aria-label='User Interface for WepSIM' 	     onchange=\"var opt = $(this).find('option:selected');	 	        var optValue = opt.val();		        update_cfg('ws_skin', optValue);                    window.removeEventListener('beforeunload', wepsim_confirm_exit);		        window.location='wepsim-' + optValue + '.html';		        return false;\"	     data-native-menu='false'>	<option value='classic'>Classic</option>	<option value='compact'>Compact</option> </select></div>",code_init:function(){$("#select8").val(get_cfg("ws_skin"))},description:"<span data-langkey='WepSIM User Interface Skin'>WepSIM User Interface Skin</span>"});ws_config.push({id:"radio14",type:"General",code_cfg:"<div class='btn-group btn-group-toggle d-flex' data-toggle='buttons' >	    <label id='label14-true'		   class='btn btn-sm btn-light w-50 btn-outline-secondary' style='padding:2 2 2 2;'		   aria-label='Beta: true'		   onclick=\"update_cfg('enable_beta', true);		             $('.enabled_beta').removeClass('d-none');\">		<input type='radio' name='beta' id='radio14-true'  aria-label='enable_beta: true'  autocomplete='off' >On	    </label>	    <label id='label14-false'		   class='btn btn-sm btn-light w-50 btn-outline-secondary' style='padding:2 2 2 2;'		   aria-label='Beta: false'		   onclick=\"update_cfg('enable_beta', false);		             $('.enabled_beta').addClass('d-none');\">		<input type='radio' name='beta' id='radio14-false' aria-label='enable_beta: false' autocomplete='off' >Off	    </label>	</div>",code_init:function(){$("#label14-"+get_cfg("enable_beta")).button("toggle")},description:"<span data-langkey='Enable experimental features'>Enable experimental features</span>"});ws_config.push({id:"radio7",type:"Editor",code_cfg:"<div class='btn-group btn-group-toggle d-flex' data-toggle='buttons' >	    <label id='label7-default'		   class='btn btn-sm btn-light w-50 btn-outline-secondary' style='padding:2 2 2 2;' 		   onclick=\"update_cfg('editor_theme','default');			     sim_cfg_editor_theme(inputfirm) ;			     sim_cfg_editor_theme(inputasm) ;\">		<input type='radio' name='options' id='radio7-default' aria-label='Editor theme: light' autocomplete='off' ><span data-langkey='Light'>Light</span>	    </label>	    <label id='label7-blackboard'		   class='btn btn-sm btn-light w-50 btn-outline-secondary' style='padding:2 2 2 2;' 		   onclick=\"update_cfg('editor_theme','blackboard');			     sim_cfg_editor_theme(inputfirm) ;			     sim_cfg_editor_theme(inputasm) ;\">		<input type='radio' name='options' id='radio7-blackboard' aria-label='Editor theme: dark' autocomplete='off' ><span data-langkey='Dark'>Dark</span>	    </label>	</div>",code_init:function(){$("#label7-"+get_cfg("editor_theme")).button("toggle")},description:"<span data-langkey='Editor theme: light or dark'>Editor theme: light or dark</span>"});ws_config.push({id:"select2",type:"Editor",code_cfg:"<div class='form-group m-0'>   <select name='select2' id='select2' class='form-control form-control-sm custom-select'	    aria-label='Editor mode'    	    onchange=\"var opt = $(this).find('option:selected');		      var optValue = opt.val();		      update_cfg('editor_mode',optValue);		      sim_cfg_editor_mode(inputfirm);		      sim_cfg_editor_mode(inputasm);\"	    data-native-menu='false'>	<option value='default'>default</option>	<option value='vim'>VIM</option>	<option value='emacs'>Emacs</option>	<option value='sublime'>Sublime</option>    </select></div>",code_init:function(){$("#select2").val(get_cfg("editor_mode"))},description:"<span data-langkey='Editor mode: vim, emacs, etc.'>Editor mode: vim, emacs, etc.</span>"});ws_config.push({id:"radio12",type:"Execution",code_cfg:"<div class='btn-group btn-group-toggle d-flex' data-toggle='buttons' >	    <label id='label12-50'		   class='btn btn-sm btn-light w-50 btn-outline-secondary' style='padding:2 2 2 2;'		   aria-label='Speed: slow'		   onclick=\"update_cfg('DBG_delay', 50);\">		<input type='radio' name='options' id='radio12-50'   autocomplete='off' ><span data-langkey='Slow'>Slow</span>	    </label>	    <label id='label12-5'		   class='btn btn-sm btn-light w-50 btn-outline-secondary' style='padding:2 2 2 2;'		   aria-label='Speed: normal'		   onclick=\"update_cfg('DBG_delay', 5);\">		<input type='radio' name='options' id='radio12-5'  autocomplete='off' ><span data-langkey='Normal'>Normal</span>	    </label>	    <label id='label12-1'		   class='btn btn-sm btn-light w-50 btn-outline-secondary' style='padding:2 2 2 2;'		   aria-label='Speed: fast'		   onclick=\"update_cfg('DBG_delay', 1);\">		<input type='radio' name='options' id='radio12-1'  autocomplete='off' ><span data-langkey='Fast'>Fast</span>	    </label>	</div>",code_init:function(){$("#label12-"+get_cfg("DBG_delay")).button("toggle")},description:"<span data-langkey='Running speed: execution speed'>Running speed: execution speed</span>"});ws_config.push({id:"radio1",type:"Execution",code_cfg:"<div class='btn-group btn-group-toggle d-flex' data-toggle='buttons' >	    <label id='label1-instruction'		   class='btn btn-sm btn-light w-50 btn-outline-secondary' style='padding:2 2 2 2;'		   aria-label='Execution unit: instruction'		   onclick=\"update_cfg('DBG_level','instruction');\">		<input type='radio' name='options' id='radio1-instruction'   autocomplete='off' >		<span class='d-none d-sm-inline-flex' data-langkey='Instructions'>Instructions</span><span class='d-sm-none'>Instruc.</span></label>	    </label>	    <label id='label1-microinstruction'		   class='btn btn-sm btn-light w-50 btn-outline-secondary' style='padding:2 2 2 2;'		   aria-label='Execution unit: microinstruction'		   onclick=\"update_cfg('DBG_level','microinstruction');\">		<input type='radio' name='options' id='radio1-microinstruction'  autocomplete='off' >		<span class='d-none d-sm-inline-flex' data-langkey='&#181;instructions'>&#181;instructions</span><span class='d-sm-none'>&#181;instruc.</span></label>	    </label>	</div>",code_init:function(){$("#label1-"+get_cfg("DBG_level")).button("toggle")},description:"<span data-langkey='Step-by-step: element in run mode'>Step-by-step: element in run mode</span>"});ws_config.push({id:"select1",type:"Execution",code_cfg:"<a href='#' id='breakpointicon1' title='Please select breakpoint icon' tabindex='0'   data-toggle='popover' data-trigger='click'>   		<img alt='stop icon' id='img_select1' src='images/stop/stop_classic.gif'                  style='position:relative; left:10px; height:30px !important; width:30px !important;'></a>",code_init:function(){$("#img_select1").attr("src","images/stop/stop_"+get_cfg("ICON_theme")+".gif");$("#breakpointicon1").popover({html:true,content:wepsim_show_breakpoint_icon_list,sanitizeFn:function(a){return a}})},description:"<span data-langkey='Breakpoint icon: icon to be used for breakpoints'>Breakpoint icon: icon to be used for breakpoints</span>"});ws_config.push({id:"select6",type:"Execution",code_cfg:" <div class='form-group m-0'>	    <select name='select6' id='select6' class='form-control form-control-sm custom-select'		    aria-label='max. ticks per instruction' 		    onchange=\"var opt = $(this).find('option:selected');			       var optValue = opt.val();			       update_cfg('DBG_limitins',optValue);\"		    data-native-menu='false'>		<option value='-1'>without limit</option>		<option value='500'  >500</option>		<option value='1000' >1000</option>		<option value='2000' >2000</option>		<option value='10000'>10000</option>		<option value='50000'>50000</option>	    </select>	 </div>",code_init:function(){$("#select6").val(get_cfg("DBG_limitins"))},description:"<span data-langkey='Limit instructions: number of instructions to be executed'>Limit instructions: number of instructions to be executed</span>"});ws_config.push({id:"select3",type:"Execution",code_cfg:" <div class='form-group m-0'>	    <select name='select3' id='select3' class='form-control form-control-sm custom-select'		    aria-label='max. ticks per instruction' 		    onchange=\"var opt = $(this).find('option:selected');			       var optValue = opt.val();			       update_cfg('DBG_limitick',optValue);\"		    data-native-menu='false'>		<option value='-1'>without limit</option>		<option value='500'  >500</option>		<option value='1000' >1000</option>		<option value='2000' >2000</option>		<option value='10000'>10000</option>		<option value='50000'>50000</option>	    </select>	 </div>",code_init:function(){$("#select3").val(get_cfg("DBG_limitick"))},description:"<span data-langkey='Limit instruction ticks: to limit clock ticks'>Limit instruction ticks: to limit clock ticks</span>"});ws_config.push({id:"radio2",type:"Register file",code_cfg:" <div class='btn-group btn-group-toggle d-flex' data-toggle='buttons' >	    <label id='label2-16'		   class='btn btn-sm btn-light w-50 btn-outline-secondary' style='padding:2 2 2 2;'		   aria-label='register file display format: hexadecimal'		   onclick=\"update_cfg('RF_display_format',16); show_rf_values(); show_states(); show_memories_values();\">		<input type='radio' name='options' id='radio2-16'   autocomplete='off' >Hex.	    </label>	    <label id='label2-10'		   class='btn btn-sm btn-light w-50 btn-outline-secondary' style='padding:2 2 2 2;'		   aria-label='register file display format: decimal'		   onclick=\"update_cfg('RF_display_format',10); show_rf_values(); show_states(); show_memories_values();\">		<input type='radio' name='options' id='radio2-10'  autocomplete='off' >Dec.	    </label>	    <label id='label2-8'		   class='btn btn-sm btn-light w-50 btn-outline-secondary' style='padding:2 2 2 2;'		   aria-label='register file display format: octal'		   onclick=\"update_cfg('RF_display_format',8); show_rf_values(); show_states(); show_memories_values();\">		<input type='radio' name='options' id='radio2-8'  autocomplete='off' >Oct.	    </label>	</div>",code_init:function(){$("#label2-"+get_cfg("RF_display_format")).button("toggle")},description:"<span data-langkey='Display format'>Display format</span>&nbsp;<a href='#' data-toggle='popover1' title='Example of display formats' data-html='true'    data-content='<img alt=\"register file example\" src=\"images/cfg-rf.gif\" class=\"img-fluid\">'><span <span data-langkey='(example)'>(example)</span></a>"});ws_config.push({id:"radio3",type:"Register file",code_cfg:" <div class='btn-group btn-group-toggle d-flex' data-toggle='buttons' >	    <label id='label3-numerical'		   class='btn btn-sm btn-light w-50 btn-outline-secondary' style='padding:2 2 2 2;'		   aria-label='register file display name (number)'		   onclick=\"update_cfg('RF_display_name','numerical'); show_rf_names();\">		<input type='radio' name='options' id='radio3-numerical'  autocomplete='off' ><span data-langkey='Numbers'>Numbers</span>	    </label>	    <label id='label3-logical'		   class='btn btn-sm btn-light w-50 btn-outline-secondary' style='padding:2 2 2 2;'		   aria-label='register file display name (user identification)'		   onclick=\"update_cfg('RF_display_name','logical'); show_rf_names();\">		<input type='radio' name='options' id='radio3-logical' autocomplete='off' ><span data-langkey='Labels'>Labels</span>	    </label>	</div>",code_init:function(){$("#label3-"+get_cfg("RF_display_name")).button("toggle")},description:"<span data-langkey='Register file names'>Register file names</span>"});ws_config.push({id:"radio9",type:"Register file",code_cfg:"<div class='btn-group btn-group-toggle d-flex' data-toggle='buttons' >	    <label id='label9-true'		   class='btn btn-sm btn-light w-50 btn-outline-secondary' style='padding:2 2 2 2;'		   aria-label='Is editable: true'		   onclick=\"update_cfg('is_editable',true);\">		<input type='radio' name='options' id='radio9-true'  aria-label='Is editable: true'  autocomplete='off' >On	    </label>	    <label id='label9-false'		   class='btn btn-sm btn-light w-50 btn-outline-secondary' style='padding:2 2 2 2;'		   aria-label='Is editable: false'		   onclick=\"update_cfg('is_editable',false);\">		<input type='radio' name='options' id='radio9-false' aria-label='Is editable: false' autocomplete='off' >Off	    </label>	</div>",code_init:function(){$("#label9-"+get_cfg("is_editable")).button("toggle")},description:"<span data-langkey='Editable registers: edit register file values'>Editable registers: edit register file values</span>"});ws_config.push({id:"colorpicker1",type:"Circuitry simulation",code_cfg:"<fieldset data-role='controlgroup' data-type='horizontal' data-mini='true' style='margin:0 0 0 0'>	 <input type='color'		aria-label='Color for active data'		id='colorpicker1'		data-show-value='false'		class='noshadow-d m-0' 		onchange=\"update_cfg('color_data_active', $('#colorpicker1').spectrum('get')); refresh();\"></fieldset>",code_init:function(){$("#colorpicker1").spectrum({preferredFormat:"hex",color:get_cfg("color_data_active")})},description:"<span data-langkey='Data-path color'>Data-path color</span> <a href='#' data-toggle='popover1' title='Example of data-path color' data-html='true' data-content='<img alt=\"register file example\" src=\"images/cfg-colors.gif\" class=\"img-fluid\">'><span <span data-langkey='(example)'>(example)</span></a>"});ws_config.push({id:"colorpicker2",type:"Circuitry simulation",code_cfg:"<fieldset data-role='controlgroup' data-type='horizontal' data-mini='true' style='margin:0 0 0 0'>	 <input type='color'		aria-label='Color for active signal name'		id='colorpicker2'		data-show-value='false'		class='noshadow-d m-0' 		onchange=\"update_cfg('color_name_active', $('#colorpicker2').spectrum('get')); refresh();\">	 </fieldset> ",code_init:function(){$("#colorpicker2").spectrum({preferredFormat:"hex",color:get_cfg("color_name_active")})},description:"<span data-langkey='Signal color'>Signal color</span>"});ws_config.push({id:"radio10",type:"Circuitry simulation",code_cfg:" <div class='btn-group btn-group-toggle d-flex' data-toggle='buttons' >	    <label id='label10-true'		   class='btn btn-sm btn-light w-50 btn-outline-secondary' style='padding:2 2 2 2;'		   aria-label='Is by value: true'		   onclick=\"update_cfg('is_byvalue',true);\">		<input type='radio' name='options' id='radio10-true'   autocomplete='off' >Value	    </label>	    <label id='label10-false'		   class='btn btn-sm btn-light w-50 btn-outline-secondary' style='padding:2 2 2 2;'		   aria-label='Is by value: false'		   onclick=\"update_cfg('is_byvalue',false);\">		<input type='radio' name='options' id='radio10-false'  autocomplete='off' >Activation	    </label>	</div> ",code_init:function(){$("#label10-"+get_cfg("is_byvalue")).button("toggle")},description:"<span data-langkey='Show by value or by activation'>Show by value or by activation</span>"});ws_config.push({id:"radio5",type:"Circuitry simulation",code_cfg:"<div class='btn-group btn-group-toggle d-flex' data-toggle='buttons' >	    <label id='label5-true'		   class='btn btn-sm btn-light w-50 btn-outline-secondary' style='padding:2 2 2 2;'		   aria-label='Is interactive: true'		   onclick=\"update_cfg('is_interactive',true);\">		<input type='radio' name='options' id='radio5-true'   autocomplete='off' >On	    </label>	    <label id='label5-false'		   class='btn btn-sm btn-light w-50 btn-outline-secondary' style='padding:2 2 2 2;'		   aria-label='Is interactive: false'		   onclick=\"update_cfg('is_interactive',false);\">		<input type='radio' name='options' id='radio5-false'  autocomplete='off' >Off	    </label>	</div> ",code_init:function(){$("#label5-"+get_cfg("is_interactive")).button("toggle")},description:"<span data-langkey='Interactive mode: signal value can be updated'>Interactive mode: signal value can be updated</span>"});ws_config.push({id:"radio6",type:"Circuitry simulation",code_cfg:"<div class='btn-group btn-group-toggle d-flex' data-toggle='buttons' >	    <label id='label6-true'		   class='btn btn-sm btn-light w-50 btn-outline-secondary' style='padding:2 2 2 2;'		   aria-label='Is quick interactive: true'		   onclick=\"update_cfg('is_quick_interactive',true);\">		<input type='radio' name='options' id='radio6-true'   autocomplete='off' >On	    </label>	    <label id='label6-false'		   class='btn btn-sm btn-light w-50 btn-outline-secondary' style='padding:2 2 2 2;'		   aria-label='Is quick interactive: false'		   onclick=\"update_cfg('is_quick_interactive',false);\">		<input type='radio' name='options' id='radio6-false'  autocomplete='off' >Off	    </label>	</div> ",code_init:function(){$("#label6-"+get_cfg("is_quick_interactive")).button("toggle")},description:"<span data-langkey='Quick interactive mode: quick update of signal value'>Quick interactive mode: quick update of signal value</span>"});ws_config.push({id:"radio11",type:"Accesibility",code_cfg:"<div class='btn-group btn-group-toggle d-flex' data-toggle='buttons' >	    <label id='label11-true'		   class='btn btn-sm btn-light w-50 btn-outline-secondary' style='padding:2 2 2 2;'		   aria-label='Active voice: true'		   onclick=\"update_cfg('use_voice',true); wepsim_voice_start();\">		<input type='radio' name='options' id='radio11-true'   autocomplete='off' >On	    </label>	    <label id='label11-false'		   class='btn btn-sm btn-light w-50 btn-outline-secondary' style='padding:2 2 2 2;'		   aria-label='Active voice: false'		   onclick=\"update_cfg('use_voice',false); wepsim_voice_stop();\">		<input type='radio' name='options' id='radio11-false'  autocomplete='off' >Off	    </label>	</div>",code_init:function(){$("#label11-"+get_cfg("use_voice")).button("toggle")},description:"<span data-langkey='Active voice: external voice control'>Active voice: external voice control</span>"});ws_config.push({id:"radio13",type:"Accesibility",code_cfg:"<div class='btn-group btn-group-toggle d-flex' data-toggle='buttons' >	    <label id='label13-text'		   class='btn btn-sm btn-light w-50 btn-outline-secondary' style='padding:2 2 2 2;'		   aria-label='Verbose: text'		   onclick=\"update_cfg('verbal_verbose','text');\">		<input type='radio' name='options' id='radio13-text'   autocomplete='off' >Text	    </label>	    <label id='label13-math'		   class='btn btn-sm btn-light w-50 btn-outline-secondary' style='padding:2 2 2 2;'		   aria-label='Verbose: math'		   onclick=\"update_cfg('verbal_verbose','math');\">		<input type='radio' name='options' id='radio13-math'  autocomplete='off' >Math	    </label>	</div>",code_init:function(){$("#label13-"+get_cfg("verbal_verbose")).button("toggle")},description:"<span data-langkey='Verbalization: textual or mathematical'>Verbalization: textual or mathematical</span>"});ws_config.push({id:"slider3",type:"Accesibility",code_cfg:"<div class='btn-group btn-group-toggle d-flex' data-toggle='buttons' >	    <label id='label8-2000'		   class='btn btn-sm btn-light w-50 btn-outline-secondary' style='padding:2 2 2 2;'		   aria-label='Notification delay: slow'		   onclick=\"update_cfg('NOTIF_delay', 2000);\">		<input type='radio' name='options' id='radio8-2000'   autocomplete='off' ><span data-langkey='Slow'>Slow</span>	    </label>	    <label id='label8-1000'		   class='btn btn-sm btn-light w-50 btn-outline-secondary' style='padding:2 2 2 2;'		   aria-label='Notification delay: normal'		   onclick=\"update_cfg('NOTIF_delay', 1000);\">		<input type='radio' name='options' id='radio8-1000'  autocomplete='off' ><span data-langkey='Normal'>Normal</span>	    </label>	    <label id='label8-100'		   class='btn btn-sm btn-light w-50 btn-outline-secondary' style='padding:2 2 2 2;'		   aria-label='Notification delay: fast'		   onclick=\"update_cfg('NOTIF_delay', 100);\">		<input type='radio' name='options' id='radio8-100'  autocomplete='off' ><span data-langkey='Fast'>Fast</span>	    </label>	</div>",code_init:function(){$("#label8-"+get_cfg("NOTIF_delay")).button("toggle")},description:"<span data-langkey='Notification speed: time before disapear'>Notification speed: time before disapear</span>"});function wepsim_open_examples_index(){$("#container-example1").html(table_examples_html(ws_examples));i18n_update_tags("examples");$("#example1").modal("show");ga("send","event","ui","ui.dialog","ui.dialog.example")}function wepsim_close_examples(){$("#example1").modal("hide")}function load_from_example_assembly(f,g){inputasm.setValue("Please wait...");inputasm.refresh();var c=f.split(":");var e="";if(c.length>0){e=c[0]}else{console.log("warning: example without hardware id")}var b="";if(c.length>1){b=c[1]}else{console.log("warning: example without microcode id")}var h="";if(c.length>2){h=c[2]}else{console.log("warning: example without assembly id")}var d="examples/assembly/asm-"+h+".txt";var a=function(j){inputasm.setValue(j);inputasm.refresh();var k=false;var i=get_simware();if(i.firmware.length!=0){k=wepsim_compile_assembly(j)}if(false===k){wsweb_change_workspace_assembly();return}if(true===g){setTimeout(function(){wsweb_change_workspace_simulator();show_memories_values()},50)}wepsim_notify_success("<strong>INFO</strong>","Example ready to be used.")};wepsim_load_from_url(d,a);simcore_record_add("Load assembly from example "+f,'load_from_example_assembly("'+f+'", '+g+");\n");ga("send","event","example","example.assembly","example.assembly."+e+"."+h)}function load_from_example_firmware(f,g){inputfirm.setValue("Please wait...");inputfirm.refresh();var c=f.split(":");var e="";if(c.length>0){e=c[0]}else{console.log("warning: example without hardware id")}var b="";if(c.length>1){b=c[1]}else{console.log("warning: example without microcode id")}var h="";if(c.length>2){h=c[2]}else{console.log("warning: example without assembly id")}var d="examples/microcode/mc-"+b+".txt";inputfirm.setOption("readOnly",false);var a=function(i){inputfirm.setValue(i);inputfirm.refresh();var j=wepsim_compile_firmware(i);if(false===j){wsweb_change_workspace_microcode();return}if(true===g){setTimeout(function(){load_from_example_assembly(f,g)},50)}else{show_memories_values();wepsim_notify_success("<strong>INFO</strong>","Example ready to be used.")}};wepsim_load_from_url(d,a);simcore_record_add("Load firmware from example "+f,'load_from_example_firmware("'+f+'", false);\n');ga("send","event","example","example.firmware","example.firmware."+e+"."+b)}function table_examples_html(h){var l="ep";var r=["newbie","intro","wepmips","tutorial"];var j=get_cfg("ws_mode");if((j!=="null")&&(!r.includes(j))){l=j}var q=get_cfg("base_url");var d="";var e="";var f="";var p="";var b="";var s="";var a="";var n="";var k="";var i="";var c="";for(var g=0;g<h.length;g++){e="";if(b!=h[g].level){e="<div class='col-sm-12 border-bottom border-secondary text-right text-capitalize font-weight-bold bg-white sticky-top'>"+l.toUpperCase()+": "+h[g].level+"</div>"}e_modes=h[g].modes;if(!e_modes.split(",").includes(j)){continue}p=h[g].title;b=h[g].level;s=h[g].hardware;a=h[g].microcode;n=h[g].assembly;k=h[g].description;i=h[g].id;f=s+":"+a+":"+n;if(d===""){d="bg-light"}else{d=""}c=c+e+"<div class='row py-1 "+d+'\'><div class="col-sm-auto">    <span class="badge badge-pill badge-light">'+(g+1)+'</span></div><div class="col-sm-3">     <span style="cursor:pointer;"            id="example_'+g+'"            onclick="load_from_example_firmware(\''+f+"',true);                     $('#example1').modal('hide');                     return false;\"            class=\"btn rounded-0 bg-info text-white p-0 mr-2\">"+p+'</span></div><div class="col-sm collapse7 show">    <c>'+k+'</c></div><div class="col-sm-auto">    <span id="example_reference_'+i+'" class="d-none">'+q+"?mode="+s+"&example="+g+'</span>    <div class="btn-group btn-group-md float-right align-top">           <button type="button"                    class="btn btn-md btn-info dropdown-toggle dropdown-toggle-split" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">              <span class="sr-only">Toggle Dropdown</span>           </button>           <div class="dropdown-menu bg-info" style="z-index:1024;">             <a onclick="load_from_example_assembly(\''+f+'\',false);                         $(\'#example1\').modal(\'hide\');                          return false;"                class="dropdown-item text-white bg-info" href="#"><c><span data-langkey="Load Assembly only">Load Assembly only</span></c></a>             <a onclick="load_from_example_firmware(\''+f+'\',false);                         $(\'#example1\').modal(\'hide\');                          return false;"                class="dropdown-item text-white bg-info" href="#"><c><span data-langkey="Load Firmware only">Load Firmware only</span></c></a>             <a onclick="$(\'#example_reference_'+i+"').removeClass('d-none');                         wepsim_clipboard_CopyFromDiv('example_reference_"+i+"');                         $('#example_reference_"+i+"').addClass('d-none');                         $('#example1').modal('hide');                          return false;\"                class=\"dropdown-item text-white bg-info\" href=\"#\"><c><span data-langkey=\"Copy reference to clipboard\">Copy reference to clipboard</span></c></a>           </div>    </div></div></div>"}if(c.trim()===""){c='&lt;<span data-langkey="No examples available...">No examples are available for the selected hardware</span>&gt;'}c='<div class="container grid-striped border border-light">'+c+"</div>";return c}var ws_examples=[];ws_examples.push({id:"S1E1",title:"<span data-langkey='Instructions'>Instructions</span>",level:"<span data-langkey='Initial'>Initial</span>",modes:"newbie,intro,tutorial,ep",hardware:"ep",microcode:"ep_base",assembly:"ep_s1_e1",description:"<span data-langkey='example_01_01'>Simple example with fetch, arithmetic instructions, and basic .text segment.</span>"});ws_examples.push({id:"S1E2",title:"<span data-langkey='Memory access'>Memory access</span>",level:"<span data-langkey='Initial'>Initial</span>",modes:"newbie,intro,tutorial,ep",hardware:"ep",microcode:"ep_base",assembly:"ep_s1_e2",description:"<span data-langkey='example_01_02'>Simple example with fetch, memory access, and basic .text/.data segment.</span>"});ws_examples.push({id:"S1E3",title:"<span data-langkey='Looping'>Looping</span>",level:"<span data-langkey='Initial'>Initial</span>",modes:"newbie,intro,tutorial,ep",hardware:"ep",microcode:"ep_enhanced",assembly:"ep_s1_e3",description:"<span data-langkey='example_01_03'>Simple example with fetch, branch, and basic .text segment.</span>"});ws_examples.push({id:"S1E4",title:"<span data-langkey='Vector'>Vector</span>",level:"<span data-langkey='Initial'>Initial</span>",modes:"newbie,intro,tutorial,ep",hardware:"ep",microcode:"ep_enhanced",assembly:"ep_s1_e4",description:"<span data-langkey='example_01_04'>Simple example with fetch, branch, and basic .text/.data segment.</span>"});ws_examples.push({id:"S2E1",title:"<span data-langkey='I/O'>I/O</span>",level:"<span data-langkey='Intermediate'>Intermediate</span>",modes:"newbie,intro,tutorial,ep",hardware:"ep",microcode:"ep_base",assembly:"ep_s2_e1",description:"<span data-langkey='example_02_01'>Example with programmed I/O access, and basic .text/.data segment.</span>"});ws_examples.push({id:"S2E2",title:"<span data-langkey='Subrutine'>Subrutine</span>",level:"<span data-langkey='Intermediate'>Intermediate</span>",modes:"newbie,intro,tutorial,ep",hardware:"ep",microcode:"ep_enhanced",assembly:"ep_s2_e2",description:"<span data-langkey='example_02_02'>Extended example with more instructions and I/O (keyboard, display).</span>"});ws_examples.push({id:"S2E3",title:"<span data-langkey='Masks & shift'>Masks & shift</span>",level:"<span data-langkey='Intermediate'>Intermediate</span>",modes:"newbie,intro,tutorial,ep",hardware:"ep",microcode:"ep_s2_e3",assembly:"ep_s2_e3",description:"<span data-langkey='example_02_03'>More extended example with masks, shift, and basic .text/.data segment.</span>"});ws_examples.push({id:"S2E4",title:"<span data-langkey='Matrix'>Matrix</span>",level:"<span data-langkey='Intermediate'>Intermediate</span>",modes:"newbie,intro,tutorial,ep",hardware:"ep",microcode:"ep_s2_e4",assembly:"ep_s2_e4",description:"<span data-langkey='example_02_04'>Extended example with subrutine and matrix.</span>"});ws_examples.push({id:"S3E1",title:"<span data-langkey='Interruptions'>Interruptions</span>",level:"<span data-langkey='Advanced'>Advanced</span>",modes:"newbie,intro,tutorial,ep",hardware:"ep",microcode:"ep_s3_e1",assembly:"ep_s3_e1",description:"<span data-langkey='example_03_01'><b>Instructive</b> example with interruptions support: fetch, RETI, and .ktext/.kdata.</span>"});ws_examples.push({id:"S3E2",title:"<span data-langkey='System call'>System call</span>",level:"<span data-langkey='Advanced'>Advanced</span>",modes:"newbie,intro,tutorial,ep",hardware:"ep",microcode:"ep_s3_e2",assembly:"ep_s3_e2",description:"<span data-langkey='example_03_02'><b>Instructive</b> example with system call support.</span>"});ws_examples.push({id:"S3E3",title:"<span data-langkey='Exception'>Exception</span>",level:"<span data-langkey='Advanced'>Advanced</span>",modes:"newbie,intro,tutorial,ep",hardware:"ep",microcode:"ep_s3_e3",assembly:"ep_s3_e3",description:"<span data-langkey='example_03_03'><b>Instructive</b> example with floating point exception.</span>"});ws_examples.push({id:"S4E1",title:"<span data-langkey='Int. + syscall + except.'>Int. + syscall + except.</span>",level:"<span data-langkey='Operating Systems'>Operating Systems</span>",modes:"newbie,intro,tutorial,ep",hardware:"ep",microcode:"ep_s4_e1",assembly:"ep_s4_e1",description:"<span data-langkey='example_04_01'>Advanced example with interruption, system call, and exception.</span>"});ws_examples.push({id:"S4E2",title:"<span data-langkey='SC 1, 4-5, 8, 11-12'>SC 1, 4-5, 8, 11-12</span>",level:"<span data-langkey='Operating Systems'>Operating Systems</span>",modes:"newbie,intro,tutorial,ep",hardware:"ep",microcode:"ep_os",assembly:"ep_s4_e2",description:"<span data-langkey='example_04_02'>Example of syscall for printing/reading integer and string.</span>"});ws_examples.push({id:"S4E3",title:"<span data-langkey='Threads'>Threads</span>",level:"<span data-langkey='Operating Systems'>Operating Systems</span>",modes:"newbie,intro,tutorial,ep",hardware:"ep",microcode:"ep_os",assembly:"ep_s4_e3",description:"<span data-langkey='example_04_03'>Example of threads.</span>"});ws_examples.push({id:"S4E4",title:"<span data-langkey='Alloc.s'>Alloc.s</span>",level:"<span data-langkey='Operating Systems'>Operating Systems</span>",modes:"newbie,intro,tutorial,ep",hardware:"ep",microcode:"ep_os",assembly:"ep_s4_e4",description:"<span data-langkey='example_04_04'>Example of malloc + free.</span>"});ws_examples.push({id:"S5E1",title:"<span data-langkey='addv + seqv.'>addv + seqv.</span>",level:"<span data-langkey='Laboratory'>Laboratory</span>",modes:"newbie,intro,tutorial,ep",hardware:"ep",microcode:"ep_s5_e1",assembly:"ep_s5_e1",description:"<span data-langkey='example_05_01'>Application-specific extension: addv + seqv.</span>"});ws_examples.push({id:"S5E2",title:"<span data-langkey='strlen_2 + skipasciicode_2'>strlen_2 + skipasciicode_2</span>",level:"<span data-langkey='Laboratory'>Laboratory</span>",modes:"newbie,intro,tutorial,ep",hardware:"ep",microcode:"ep_s5_e2",assembly:"ep_s5_e2",description:"<span data-langkey='example_05_02'>Application-specific extension: strlen_2 + skipasciicode_2.</span>"});ws_examples.push({id:"S5E3",title:"<span data-langkey='madd, mmul, mxch'>madd, mmul, mxch</span>",level:"<span data-langkey='Laboratory'>Laboratory</span>",modes:"newbie,intro,tutorial,ep",hardware:"ep",microcode:"ep_s5_e3",assembly:"ep_s5_e3",description:"<span data-langkey='example_05_03'>Application-specific extension: madd + mmul + mxch.</span>"});ws_examples.push({id:"S6E1",title:"<span data-langkey='Dummy instruction'>Dummy instruction</span>",level:"<span data-langkey='Special'>Special</span>",modes:"newbie,intro,tutorial,ep",hardware:"ep",microcode:"ep_bare",assembly:"ep_s6_e1",description:"<span data-langkey='example_06_01'>Test example.</span>"});ws_examples.push({id:"S1E1",title:"<span data-langkey='Instructions'>Instructions</span>",level:"<span data-langkey='Initial'>Initial</span>",modes:"newbie,intro,wepmips,tutorial",hardware:"ep",microcode:"ep_mips",assembly:"ep_s1_e1",description:"<span data-langkey='example_01_01'>Simple example with fetch, arithmetic instructions, and basic .text segment.</span>"});ws_examples.push({id:"S1E2",title:"<span data-langkey='Memory access'>Memory access</span>",level:"<span data-langkey='Initial'>Initial</span>",modes:"newbie,intro,wepmips,tutorial",hardware:"ep",microcode:"ep_mips",assembly:"ep_s1_e2",description:"<span data-langkey='example_01_02'>Simple example with fetch, memory access, and basic .text/.data segment.</span>"});ws_examples.push({id:"S1E3",title:"<span data-langkey='Looping'>Looping</span>",level:"<span data-langkey='Initial'>Initial</span>",modes:"newbie,intro,wepmips,tutorial",hardware:"ep",microcode:"ep_mips",assembly:"ep_s1_e3",description:"<span data-langkey='example_01_03'>Simple example with fetch, branch, and basic .text segment.</span>"});ws_examples.push({id:"S1E4",title:"<span data-langkey='Vector'>Vector</span>",level:"<span data-langkey='Initial'>Initial</span>",modes:"newbie,intro,wepmips,tutorial",hardware:"ep",microcode:"ep_mips",assembly:"ep_s1_e4",description:"<span data-langkey='example_01_04'>Simple example with fetch, branch, and basic .text/.data segment.</span>"});ws_examples.push({id:"S2E1",title:"<span data-langkey='I/O'>I/O</span>",level:"<span data-langkey='Intermediate'>Intermediate</span>",modes:"newbie,intro,wepmips,tutorial",hardware:"ep",microcode:"ep_mips",assembly:"ep_s2_e1",description:"<span data-langkey='example_02_01'>Example with programmed I/O access, and basic .text/.data segment.</span>"});ws_examples.push({id:"S2E3",title:"<span data-langkey='Masks & shift'>Masks & shift</span>",level:"<span data-langkey='Intermediate'>Intermediate</span>",modes:"newbie,intro,wepmips,tutorial",hardware:"ep",microcode:"ep_mips",assembly:"ep_s2_e3",description:"<span data-langkey='example_02_03'>More extended example with masks, shift, and basic .text/.data segment.</span>"});ws_examples.push({id:"S2E4",title:"<span data-langkey='Matrix'>Matrix</span>",level:"<span data-langkey='Intermediate'>Intermediate</span>",modes:"newbie,intro,wepmips,tutorial",hardware:"ep",microcode:"ep_mips",assembly:"ep_s2_e4",description:"<span data-langkey='example_02_04'>Extended example with subrutine and matrix.</span>"});ws_examples.push({id:"S3E1",title:"<span data-langkey='Interruptions'>Interruptions</span>",level:"<span data-langkey='Advanced'>Advanced</span>",modes:"newbie,intro,wepmips,tutorial",hardware:"ep",microcode:"ep_mips",assembly:"ep_s3_e1",description:"<span data-langkey='example_03_01b'>Example with interruptions support: fetch, RETI, and .ktext/.kdata.</span>"});ws_examples.push({id:"S3E2",title:"<span data-langkey='System call'>System call</span>",level:"<span data-langkey='Advanced'>Advanced</span>",modes:"newbie,intro,wepmips,tutorial",hardware:"ep",microcode:"ep_mips",assembly:"ep_s3_e2",description:"<span data-langkey='example_03_02b'>Example with system call support.</span>"});ws_examples.push({id:"S3E3",title:"<span data-langkey='Exception'>Exception</span>",level:"<span data-langkey='Advanced'>Advanced</span>",modes:"newbie,intro,wepmips,tutorial",hardware:"ep",microcode:"ep_mips",assembly:"ep_s3_e3",description:"<span data-langkey='example_03_03b'>Example with floating point exception.</span>"});ws_examples.push({id:"S4E1",title:"<span data-langkey='Int. + syscall + except.'>Int. + syscall + except.</span>",level:"<span data-langkey='Operating Systems'>Operating Systems</span>",modes:"newbie,intro,wepmips,tutorial",hardware:"ep",microcode:"ep_mips",assembly:"ep_s4_e1",description:"<span data-langkey='example_04_01'>Advanced example with interruption, system call, and exception.</span>"});ws_examples.push({id:"S4E2",title:"<span data-langkey='syscall 1, 4-5, 8, 11-12'>syscall 1, 4-5, 8, 11-12</span>",level:"<span data-langkey='Operating Systems'>Operating Systems</span>",modes:"newbie,intro,wepmips,tutorial",hardware:"ep",microcode:"ep_mips",assembly:"ep_s4_e2",description:"<span data-langkey='example_04_02'>Example of syscall for printing/reading integer and string.</span>"});ws_examples.push({id:"S5E1",title:"<span data-langkey='strlen_2 + skipasciicode_2'>strlen_2 + skipasciicode_2</span>",level:"<span data-langkey='Laboratory'>Laboratory</span>",modes:"newbie,intro,wepmips,tutorial",hardware:"ep",microcode:"ep_mips",assembly:"ep_s5_e2",description:"<span data-langkey='example_05_02'>Application-specific extension: strlen_2 + skipasciicode_2.</span>"});ws_examples.push({id:"S1E1",title:"<span data-langkey='Instructions'>Instructions</span>",level:"<span data-langkey='Initial'>Initial</span>",modes:"newbie,intro,tutorial,poc",hardware:"poc",microcode:"poc_base",assembly:"poc_s1_e1",description:"<span data-langkey='example_01_01'>Simple example.</span>"});ws_examples.push({id:"S1E2",title:"<span data-langkey='Memory access'>Memory access</span>",level:"<span data-langkey='Initial'>Initial</span>",modes:"newbie,intro,tutorial,poc",hardware:"poc",microcode:"poc_base",assembly:"ep_s1_e2",description:"<span data-langkey='example_01_02'>Simple example with fetch, memory access, and basic .text/.data segment.</span>"});ws_examples.push({id:"S1E3",title:"<span data-langkey='Looping'>Looping</span>",level:"<span data-langkey='Initial'>Initial</span>",modes:"newbie,intro,tutorial,poc",hardware:"poc",microcode:"poc_base",assembly:"ep_s1_e3",description:"<span data-langkey='example_01_03'>Simple example with fetch, branch, and basic .text segment.</span>"});ws_examples.push({id:"S1E4",title:"<span data-langkey='Vector'>Vector</span>",level:"<span data-langkey='Initial'>Initial</span>",modes:"newbie,intro,tutorial,poc",hardware:"poc",microcode:"poc_base",assembly:"ep_s1_e4",description:"<span data-langkey='example_01_04'>Simple example with fetch, branch, and basic .text/.data segment.</span>"});ws_examples.push({id:"S2E1",title:"<span data-langkey='I/O'>I/O</span>",level:"<span data-langkey='Intermediate'>Intermediate</span>",modes:"newbie,intro,tutorial,poc",hardware:"poc",microcode:"poc_base",assembly:"ep_s2_e1",description:"<span data-langkey='example_02_01'>Example with programmed I/O access, and basic .text/.data segment.</span>"});ws_examples.push({id:"S2E2",title:"<span data-langkey='Subrutine'>Subrutine</span>",level:"<span data-langkey='Intermediate'>Intermediate</span>",modes:"newbie,intro,tutorial,poc",hardware:"poc",microcode:"poc_base",assembly:"ep_s2_e2",description:"<span data-langkey='example_02_02'>Extended example with more instructions and I/O (keyboard, display).</span>"});ws_examples.push({id:"S2E3",title:"<span data-langkey='Masks & shift'>Masks & shift</span>",level:"<span data-langkey='Intermediate'>Intermediate</span>",modes:"newbie,intro,tutorial,poc",hardware:"poc",microcode:"poc_base",assembly:"ep_s2_e3",description:"<span data-langkey='example_02_03'>More extended example with masks, shift, and basic .text/.data segment.</span>"});ws_examples.push({id:"S2E4",title:"<span data-langkey='Matrix'>Matrix</span>",level:"<span data-langkey='Intermediate'>Intermediate</span>",modes:"newbie,intro,tutorial,poc",hardware:"poc",microcode:"poc_base",assembly:"ep_s2_e4",description:"<span data-langkey='example_02_04'>Extended example with subrutine and matrix.</span>"});ws_examples.push({id:"S3E1",title:"<span data-langkey='Interruptions'>Interruptions</span>",level:"<span data-langkey='Advanced'>Advanced</span>",modes:"newbie,intro,tutorial,poc",hardware:"poc",microcode:"poc_s3",assembly:"ep_s3_e1",description:"<span data-langkey='example_03_01'><b>Instructive</b> example with interruptions support: fetch, RETI, and .ktext/.kdata.</span>"});ws_examples.push({id:"S3E2",title:"<span data-langkey='System call'>System call</span>",level:"<span data-langkey='Advanced'>Advanced</span>",modes:"newbie,intro,tutorial,poc",hardware:"poc",microcode:"poc_s3",assembly:"ep_s3_e2",description:"<span data-langkey='example_03_02'><b>Instructive</b> example with system call support.</span>"});ws_examples.push({id:"S3E3",title:"<span data-langkey='Exception'>Exception</span>",level:"<span data-langkey='Advanced'>Advanced</span>",modes:"newbie,intro,tutorial,poc",hardware:"poc",microcode:"poc_s3",assembly:"ep_s3_e3",description:"<span data-langkey='example_03_03'><b>Instructive</b> example with floating point exception.</span>"});ws_examples.push({id:"S4E1",title:"<span data-langkey='Int. + syscall + except.'>Int. + syscall + except.</span>",level:"<span data-langkey='Operating Systems'>Operating Systems</span>",modes:"newbie,intro,tutorial,poc",hardware:"poc",microcode:"poc_os",assembly:"ep_s4_e1",description:"<span data-langkey='example_04_01'>Advanced example with interruption, system call, and exception.</span>"});ws_examples.push({id:"S4E2",title:"<span data-langkey='SC 1, 4-5, 8, 11-12'>SC 1, 4-5, 8, 11-12</span>",level:"<span data-langkey='Operating Systems'>Operating Systems</span>",modes:"newbie,intro,tutorial,poc",hardware:"poc",microcode:"poc_os",assembly:"ep_s4_e2",description:"<span data-langkey='example_04_02'>Example of syscall for printing/reading integer and string.</span>"});ws_examples.push({id:"S4E3",title:"<span data-langkey='Threads'>Threads</span>",level:"<span data-langkey='Operating Systems'>Operating Systems</span>",modes:"newbie,intro,tutorial,poc",hardware:"poc",microcode:"poc_os",assembly:"ep_s4_e3",description:"<span data-langkey='example_04_03'>Example of threads.</span>"});ws_examples.push({id:"S4E4",title:"<span data-langkey='Alloc.s'>Alloc.s</span>",level:"<span data-langkey='Operating Systems'>Operating Systems</span>",modes:"newbie,intro,tutorial,poc",hardware:"poc",microcode:"poc_os",assembly:"ep_s4_e4",description:"<span data-langkey='example_04_04'>Example of malloc + free.</span>"});ws_examples.push({id:"S5E1",title:"<span data-langkey='Dummy instruction'>Dummy instruction</span>",level:"<span data-langkey='Special'>Special</span>",modes:"newbie,intro,tutorial,poc",hardware:"poc",microcode:"poc_bare",assembly:"poc_s5_e1",description:"<span data-langkey='example_06_01'>Test example.</span>"});function wepsim_execute_reset(c,b){wepsim_state_history_reset();if(true===b){var a=get_simware();if(a.firmware.length!=0){update_memories(a)}}if(true===c){simcore_reset()}}function wepsim_execute_instruction(){var b=simcore_check_if_can_execute();if(false===b.ok){alert(b.msg);return false}var a={verbosity:0,cycles_limit:get_cfg("DBG_limitick")};b=simcore_execute_microprogram(a);if(false===b.ok){wepsim_show_stopbyevent("Info",b.msg);return false}return true}function wepsim_execute_microinstruction(){var a=simcore_check_if_can_execute();if(false===a.ok){alert(a.msg);return false}a=simcore_execute_microinstruction();if(false===a.ok){wepsim_show_stopbyevent("Info",a.msg);return false}return true}function wepsim_execute_set_breakpoint(a){return asmdbg_set_breakpoint(a)}var DBG_stop=true;var DBG_limit_instruction=0;function wepsim_execute_stop(a){$(a).html("<i class='fa fa-play'></i><br><b>Run</b>");$(a).css("backgroundColor","#CCCCCC");DBG_stop=true;DBG_limit_instruction=0}function wepsim_execute_play(c,b){var a=simcore_check_if_can_execute();if(false===a.ok){alert(a.msg);return false}$(c).css("backgroundColor","rgb(51, 136, 204)");$(c).html("<i class='fa fa-stop'></i><br><b>Stop</b>");DBG_stop=false;DBG_limit_instruction=0;if(false===b){wepsim_execute_chainplay(c)}else{wepsim_execute_chainnotify(c)}}function wepsim_execute_toggle_play(b,a){if(DBG_stop===false){DBG_stop=true}else{wepsim_execute_play(b,a)}}function wepsim_check_stopbybreakpoint_firm(){var a=simhw_sim_ctrlStates_get().mpc.state;var c=get_value(simhw_sim_state(a));var b="0x"+c.toString(16);if(typeof simhw_internalState_get("MC_dashboard",c)==="undefined"){return false}return(simhw_internalState_get("MC_dashboard",c).breakpoint)}function wepsim_check_stopbybreakpoint_asm(){var a=simhw_sim_ctrlStates_get().pc.state;var c=get_value(simhw_sim_state(a));var d="0x"+c.toString(16);var b=simhw_internalState("FIRMWARE");if(typeof b.assembly[d]==="undefined"){return false}return(b.assembly[d].breakpoint)}function wepsim_show_stopbyevent(f,e){var h=simhw_sim_ctrlStates_get().mpc.state;var c=get_value(simhw_sim_state(h));var a="0x"+c.toString(16);var i=simhw_sim_ctrlStates_get().pc.state;var g=get_value(simhw_sim_state(i));var b="0x"+g.toString(16);var d=f+" @ pc="+b+"+mpc="+a;$("#dlg_title2").html(d);$("#dlg_body2").html(e);$("#current_state2").modal("show");return true}function wepsim_check_state_firm(){var a=simhw_sim_ctrlStates_get().mpc.state;var b=get_value(simhw_sim_state(a));if(false===simhw_internalState_get("MC_dashboard",b).state){return false}wepsim_state_history_add();return true}function wepsim_execute_chunk(a,e){var d=false;var c=0;var h=get_cfg("DBG_level");if(h==="instruction"){var j={verbosity:0,cycles_limit:get_cfg("DBG_limitick")};for(c=0;c<e;c++){d=simcore_execute_microprogram(j);if(d.ok===false){wepsim_show_stopbyevent("Info",d.msg);wepsim_execute_stop(a);return false}d=wepsim_check_stopbybreakpoint_asm();if(true===d){wepsim_show_stopbyevent("Breakpoint","Instruction is going to be fetched.");wepsim_execute_stop(a);return false}}}else{var g=simhw_sim_ctrlStates_get().mpc.state;var f=simhw_sim_state(g);var b=0;for(c=0;c<e;c++){wepsim_check_state_firm();d=simcore_execute_microinstruction();if(false===d.ok){wepsim_show_stopbyevent("Info",d.msg);wepsim_execute_stop(a);return false}d=wepsim_check_stopbybreakpoint_firm();if(true===d){wepsim_show_stopbyevent("Breakpoint","Microinstruction is going to be issue.");wepsim_execute_stop(a);return false}b=get_value(f);if(0===b){d=wepsim_check_stopbybreakpoint_asm();if(true===d){wepsim_show_stopbyevent("Breakpoint","Instruction is going to be fetched.");wepsim_execute_stop(a);return false}}}}return true}var max_turbo=5;function wepsim_reset_max_turbo(){max_turbo=5}function wepsim_execute_chainplay(d){var e=1;var c=1;if(DBG_stop){wepsim_execute_stop(d);return}var b=1;if(get_cfg("DBG_delay")<5){b=max_turbo}if(max_turbo===5){e=performance.now()}var a=wepsim_execute_chunk(d,b);if(false===a){return}if(max_turbo===5){c=performance.now()}if(max_turbo===5){max_turbo=3000/(c-e)}DBG_limit_instruction+=b;if(DBG_limit_instruction>get_cfg("DBG_limitins")){wepsim_show_stopbyevent("Limit","Number of executed instructions limit reached.<br><br>See related configuration options about limits:<br><img height='100vw' src='./help/simulator/simulator018.jpg'>");wepsim_execute_stop(d);return}setTimeout(wepsim_execute_chainplay,get_cfg("DBG_delay"),d)}function wepsim_execute_chainnotify(b){if(DBG_stop){wepsim_execute_stop(b);return}var g=false;var l=simhw_sim_ctrlStates_get().mpc.state;var j=simhw_sim_state(l);var c=0;var h=0;for(var e=0;e<max_turbo;e++){g=simcore_execute_microinstruction();if(false===g.ok){wepsim_show_stopbyevent("Info",g.msg);wepsim_execute_stop(b);return}c=get_value(j);h=simhw_internalState_get("MC_dashboard",c).notify.length;if(h>1){var f="Notify @ "+c+": "+simhw_internalState_get("MC_dashboard",c).notify[1];var a='<div style="max-height:70vh; width:inherit; overflow:auto; -webkit-overflow-scrolling:touch;">';for(var d=1;d<h;d++){a+=simhw_internalState_get("MC_dashboard",c).notify[d]+"\n<br>"}a+="</div>";bootbox.confirm({title:f,message:a,buttons:{cancel:{label:"Stop",className:"btn-danger  btn-sm"},confirm:{label:"Continue",className:"btn-primary btn-sm"}},callback:function(i){if(i){setTimeout(wepsim_execute_chainnotify,get_cfg("DBG_delay"),b)}else{wepsim_execute_stop(b)}}});return}}setTimeout(wepsim_execute_chainnotify,get_cfg("DBG_delay"),b)}function table_helps_html(a){var b="";var c="";var d="";var l="";var j="";var i="";var n="";var k="";var g="";var f=[];for(var e=0;e<a.length;e++){if(false===array_includes(f,a[e].u_type)){f.push(a[e].u_type)}}b=b+'<div class="container grid-striped border border-light">';for(e=0;e<a.length;e++){d="";if(i!=a[e].u_type){d="<div class='float-none text-right text-capitalize font-weight-bold col-12 border-bottom border-secondary bg-white sticky-top'>"+a[e].u_type+"</div>"}l=a[e].title;j=a[e].i_type;i=a[e].u_type;n=a[e].reference;k=a[e].description;g=a[e].id;var h="";if("relative"===j){h="wepsim_help_set_relative('"+n+"');wepsim_help_refresh();"}if("absolute"===j){h="wepsim_help_set_absolute('"+n+"');wepsim_help_refresh();"}if("code"===j){h=n}if(c===""){c="bg-light"}else{c=""}b=b+d+"<div class='row py-1 "+c+"' id='"+i+'\'><div class="col-md-auto">    <span class="badge badge-pill badge-light">'+(e+1)+'</span></div><div class="col-md-4">    <span class="bg-success text-white" style="cursor:pointer;"           onclick="'+h+'">'+l+'</span></div><div class="col-md collapse7 show">    <c>'+k+"</c></div></div>"}b=b+"</div>";return b}function wepsim_help_refresh(){var c="#iframe_help1";var e="";var f=get_cfg("ws_idiom");var h=simhw_active().sim_short_name;var b=$("#help1_ref").data("relative");if((typeof b!="undefined")&&(b!="")){var g=b.split("#");e="help/"+g[0]+"-"+f+".html";$("#help1").modal("show");resolve_html_url(c,e,"#"+g[1],function(){});ga("send","event","help","help.simulator","help.simulator."+b);return}var a=$("#help1_ref").data("absolute");if((typeof a!="undefined")&&(a!="")){e="examples/hardware/"+h+"/help/"+a+"-"+f+".html";$("#help1").modal("show");resolve_html_url(c,e,"",function(){});ga("send","event","help","help."+a,"help."+a+".*");return}var d=$("#help1_ref").data("code");if((typeof d!="undefined")&&(d==="true")){ga("send","event","help","help.code","help.code.*");return}wepsim_open_help_index()}function wepsim_open_help_index(){$("#iframe_help1").html(table_helps_html(ws_help));$("#help1_ref").data("relative","");$("#help1_ref").data("absolute","");$("#help1_ref").data("code","false");i18n_update_tags("help");$("#help1").modal("show");ga("send","event","ui","ui.dialog","ui.dialog.help")}function wepsim_open_help_content(a){$("#iframe_help1").html(a);$("#help1_ref").data("relative","");$("#help1_ref").data("absolute","");$("#help1_ref").data("code","true");$("#help1").modal("show")}function wepsim_close_help(){$("#help1").modal("hide")}function wepsim_help_set_relative(a){$("#help1_ref").data("relative",a);$("#help1_ref").data("absolute","");$("#help1_ref").data("code","false")}function wepsim_help_set_absolute(a){$("#help1_ref").data("relative","");$("#help1_ref").data("absolute",a);$("#help1_ref").data("code","false")}var ws_help=[];ws_help.push({id:"simulator",title:"<span data-langkey='Welcome tutorial'>Welcome tutorial</span>",i_type:"code",u_type:"tutorial",reference:"wepsim_close_help(); sim_tutorial_showframe('welcome', 0);",description:"<span data-langkey='help_01_01'>Open the welcome tutorial</span>.<br>"});ws_help.push({id:"simulator",title:"<span data-langkey='Simple usage tutorial'>Simple usage tutorial</span>",i_type:"code",u_type:"tutorial",reference:"wepsim_close_help(); sim_tutorial_showframe('simpleusage', 0);",description:"<span data-langkey='help_01_02'>Open the simple usage tutorial, for microprogramming and assembly programming</span>.<br>"});ws_help.push({id:"simulator",title:"<span data-langkey='Simulator: firmware'>Simulator: firmware</span>",i_type:"relative",u_type:"simulator",reference:"simulator#help_simulator_firmware",description:"<span data-langkey='help_02_01'>How to work with the firmware to be loaded into the control memory</span>.<br>"});ws_help.push({id:"microcode",title:"<span data-langkey='Microcode format'>Microcode format</span>",i_type:"relative",u_type:"simulator",reference:"simulator#help_firmware_format",description:"<span data-langkey='help_02_02'>Syntax of the microcode used</span>.<br>"});ws_help.push({id:"simulator",title:"<span data-langkey='Simulator: assembly'>Simulator: assembly</span>",i_type:"relative",u_type:"simulator",reference:"simulator#help_simulator_assembly",description:"<span data-langkey='help_02_03'>How to work with the assembly that use the aforementioned firmware</span>.<br>"});ws_help.push({id:"assembly",title:"<span data-langkey='Assembly format'>Assembly format</span>",i_type:"relative",u_type:"simulator",reference:"simulator#help_assembly_format",description:"<span data-langkey='help_02_04'>Syntax of the assembly elements</span>.<br>"});ws_help.push({id:"simulator",title:"<span data-langkey='Simulator: execution'>Simulator: execution</span>",i_type:"relative",u_type:"simulator",reference:"simulator#help_simulator_execution",description:"<span data-langkey='help_02_05'>How the simulator can execute the assembly and firmware</span>.<br>"});ws_help.push({id:"architecture",title:"<span data-langkey='Simulated architecture'>Simulated architecture</span>",i_type:"absolute",u_type:"simulated processor",reference:"hardware",description:"<span data-langkey='help_03_01'>Description of the simulated processor architecture</span>.<br>"});ws_help.push({id:"architecture",title:"<span data-langkey='Simulated signals'>Simulated signals</span>",i_type:"absolute",u_type:"simulated processor",reference:"signals",description:"<span data-langkey='help_03_02'>Main signals summary of the simulated elemental processor</span>.<br>"});ws_help.push({id:"architecture",title:"<span data-langkey='Hardware summary'>Hardware summary</span>",i_type:"code",u_type:"simulated processor",reference:"var ahw1 = simhw_active().sim_short_name ; var img1 = 'examples/hardware/' + ahw1 + '/images/cpu.svg?time=20190102' ; var txt1 = 'Your browser does not support SVG' ;var lyt1 = '<object id=\\'svg_p2\\' data=\\'' + img1 + '\\'                     type=\\'image/svg+xml\\'>' + txt1 +  '</object>'; wepsim_open_help_content(lyt1) ;",description:"<span data-langkey='help_03_03'>Reference card for the simulated elemental processor hardware</span>.<br>"});ws_help.push({id:"about",title:"<span data-langkey='License, platforms, etc.'>License, platforms, etc.</span>",i_type:"relative",u_type:"info",reference:"about#help_about",description:"<span data-langkey='help_04_01'>WepSIM license, supported platforms, technologies used</span>.<br>"});ws_help.push({id:"authors",title:"<span data-langkey='Authors'>Authors</span>",i_type:"code",u_type:"info",reference:"wepsim_close_help(); $('#about2').modal(open);",description:"<span data-langkey='help_04_02'>Authors of WepSIM</span>.<br>"});function wepsim_notify_success(a,b){return simcoreui_notify(a,b,"success",get_cfg("NOTIF_delay"))}function wepsim_notify_error(a,b){return simcoreui_notify(a,b,"danger",0)}function wepsim_notify_warning(a,b){return simcoreui_notify(a,b,"warning",get_cfg("NOTIF_delay"))}function wepsim_notify_close(){return simcoreui_notify_close()}function wepsim_preload_hash(e){var g="";if(e.mode!==""){wsweb_select_main(e.mode);g+="<li>Mode set to <strong>"+e.mode+"</strong>.</li> "}if(e.example!==""){var a=parseInt(e.example);var f=ws_examples[a];if(typeof f!=="undefined"){var c=f.hardware+":"+f.microcode+":"+f.assembly;load_from_example_firmware(c,true);g+="<li>Example titled <strong>"+f.title+"</strong> has been loaded.</li> "}}var b=[];if(e.simulator!==""){b=e.simulator.split(":");g+="<li>User interface has been adapted.</li> "}if(typeof b[0]!=="undefined"){if(b[0]==="microcode"){wsweb_change_show_processor()}if(b[0]==="assembly"){wsweb_change_show_asmdbg()}}if(typeof b[1]!=="undefined"){var d=b[1].toUpperCase();wsweb_set_details(d)}if(g!==""){g="WepSIM has been instructed to preload some work for you:<br><ul>"+g+'</ul>To close this notification please press in the <span class="btn btn-sm btn-info py-0" data-dismiss="alert">X</span> mark. <br>In order to execute an example please press the <span class="btn btn-sm btn-info py-0" onclick="wepsim_execute_toggle_play(\'#qbp\',false);">Run</span> button.<br>';if(e.notify!=="false"){simcoreui_notify("WepSIM preloads some work",g,"info",0)}}return 0}function wepsim_preload_json(b,a){var c=1*1024*1024;var d=new XMLHttpRequest();d.open("HEAD",b,true);d.onreadystatechange=function(){if(this.readyState==this.DONE){var e=0;var f=d.getResponseHeader("Content-Length");if(f!==null){e=parseInt(f)}if(e<c){$.getJSON(b,a).fail(function(g){simcoreui_notify("getJSON","There was some problem for getting "+b,"warning",0)})}}};d.send()}function wepsim_preload_get(b,a,g){var d={};var f=null;d.preload=b.get("preload");d.mode=b.get("mode");d.example=b.get("example");d.simulator=b.get("simulator");d.notify=b.get("notify");d.checkpoint=b.get("checkpoint");if(d.preload===null){d.preload=""}if(d.mode===null){d.mode=""}if(d.example===null){d.example=""}if(d.simulator===null){d.simulator=""}if(d.notify===null){d.notify="true"}if(d.checkpoint===null){d.checkpoint=""}if(d.preload!==""){try{f=new URL(d.preload);wepsim_preload_json(f.pathname,wepsim_preload_hash)}catch(c){}return}wepsim_preload_hash(d);if(d.checkpoint!==""){f=new URL(d.checkpoint);wepsim_checkpoint_loadURI(f,a,g)}}function wepsim_state_get_clk(){var c=get_value(simhw_sim_state("REG_MICROADDR"));var a=get_value(simhw_sim_state("CLK"));var b=new Date().getTime();return{time:b,title:"clock "+a+" @ &#181;address "+c,title_short:"clock "+a+",<br>&#181;add "+c}}var state_history=[];function wepsim_state_history_get(){return state_history}function wepsim_state_history_reset(){$("[data-toggle=popover4]").popover("hide");state_history=[]}function wepsim_state_history_add(){var a=wepsim_state_get_clk();var b=simcore_simstate_current2state();a.content=simcore_simstate_state2checklist(b);state_history.push(a)}function wepsim_state_results_empty(){var a='<span style="background-color:#FCFC00">&lt;Empty (only modified values are shown)&gt;</span>';$("#check_results1").html(a);$("#s_clip").html("clipboard");$("#s_ref").html("reference")}function wepsim_state_history_empty(){var a='<span style="background-color:#FCFC00">&lt;<span data-langkey="Empty history">Empty history</span>&gt;</span>';$("#history1").html(a)}function wepsim_state_history_list(){if(0==state_history.length){wepsim_state_history_empty();wepsim_state_results_empty();return}$("[data-toggle=popover4]").popover("hide");var c=0;var e="";var d="";var a="";var f="";for(var b=state_history.length-1;b>=0;b--){c=new Date(state_history[b].time);e=c.getFullYear()+"-"+(c.getMonth()+1)+"-"+c.getDate()+"-"+c.getHours()+"-"+c.getMinutes()+"-"+c.getSeconds()+"-"+c.getMilliseconds();d='<div id="popover-content-'+e+'" class="d-none bg-light">'+state_history[b].title+"<br><b>was inserted at:</b><br>Date: "+c.getFullYear()+"-"+(c.getMonth()+1)+"-"+c.getDate()+"<br>Hour: "+c.getHours()+":"+c.getMinutes()+":"+c.getSeconds()+"-"+c.getMilliseconds()+'<br><button type="button" id="close" data-role="none"         class="btn btn-sm btn-danger w-100 p-0"         onclick="$(\'#'+e+"').popover('hide');\"><span data-langkey=\"Close\">Close</span></button></div>";vrow="";if(b!=0){vrow='<div class="row h-100"><div class="col border-right border-dark">&nbsp;</div><div class="col">&nbsp;</div></div>'}f+='  <div class="row">       <div class="col-auto text-center flex-column d-flex pr-0">              <strong class="m-2">              <span class="badge badge-pill border-secondary border shadow">  		       <a data-toggle="collapse" data-target="#collapse_'+b+'"                        class="col-auto p-0 text-decoration-none text-reset" target="_blank" href="#">'+state_history[b].title_short+"</a>              </span>              </strong>"+vrow+'       </div>       <div class="col py-2 pl-0">             <div class="btn-group float-none" role="group" aria-label="State information for '+e+'">                   <button class="btn btn-outline-dark btn-sm col-auto float-right"                           onclick="wepsim_state_results_empty();                                      $(\'#collapse_'+b+"').collapse('show');                                     wepsim_clipboard_CopyFromDiv('state_"+b+"');                                      $('#collapse_"+b+"').collapse('hide');                                     $('#s_clip').html('"+state_history[b].title_short+'\');                                     $(\'#s_ref\').html(\'reference\'); "                            type="button"><span data-langkey="Copy">Copy</span><span class="d-none d-sm-inline-flex">&nbsp;<span data-langkey="to clipboard">to clipboard</span></span></button>                   <button class="btn btn-outline-dark btn-sm col-auto float-right"                           onclick="var txt_chklst1 = get_clipboard_copy();                                    var obj_exp1    = simcore_simstate_checklist2state(txt_chklst1);                                    var txt_chklst2 = $(\'#ta_state_'+b+"').val();                                    var obj_exp2    = simcore_simstate_checklist2state(txt_chklst2);                                    wepsim_dialog_check_state('check_results1', obj_exp1, obj_exp2);                                    $('#s_ref').html('"+state_history[b].title_short+'\');                                     $(\'#check_results_scroll1\').collapse(\'show\');"                           type="button"><span data-langkey="Check">Check</span> <span class="d-none d-md-inline-flex">differences with clipboard state</span></button>                   <button class="btn btn-outline-dark btn-sm col-auto float-right"  		              data-toggle="collapse" data-target="#collapse_'+b+'">&plusmn; <span data-langkey="Show">Show</span></button>             </div>'+d+'             <div id="collapse_'+b+'" class="border border-secondary mt-2 collapse">                   <div class="card-body p-1 small"                         id="state_'+b+'">'+state_history[b].content+'</div>                   <textarea aria-label="hidden-state"  style="display:none"                             id="ta_state_'+b+'" readonly>'+state_history[b].content+"</textarea>             </div>       </div>  </div>"}$("#history1").html(f);wepsim_state_results_empty();$("[data-toggle=popover4]").popover({html:true,placement:"auto",trigger:"click",container:"body",animation:false,content:function(){var g=$(this).attr("id");return $("#popover-content-"+g).html()},sanitizeFn:function(g){return g}})}function wepsim_dialog_current_state(){wepsim_notify_success("<strong>INFO</strong>","Loading, please wait...");i18n_update_tags("states");$("#current_state1").modal("show");setTimeout(function(){var d=wepsim_state_get_clk();$("#curr_clk_maddr").html(d.title_short);var g=simcore_simstate_current2state();var e=simcore_simstate_state2checklist(g);$("#end_state1").tokenfield("setTokens",e);wepsim_notify_close();wepsim_notify_success("<strong>INFO</strong>","Current state loaded !");var c=0;var f=0;var h="";for(var b in g){f=0;for(var a in g[b]){f++}h=h+","+b+"="+f;c=c+f}ga("send","event","state","state.dump","state.dump.ci="+get_value(simhw_sim_state("REG_IR_DECO"))+",neltos="+c+h)},80)}function wepsim_dialog_check_state(c,b,e){var a=simcore_simstate_diff_results(b,e);var d="";if(0==a.errors){d="&emsp;<br><span style='background-color:#7CFC00'><span data-langkey='Meets the specified requirements'>Meets the specified requirements</span></span><br>"}else{d=simcore_simstate_checkreport2html(a.result,true)}$("#"+c).html(d);ga("send","event","state","state.check","state.check,ci="+get_value(simhw_sim_state("REG_IR_DECO"))+".a="+a.neltos_expected+",b="+a.neltos_obtained+",sd="+a.errors);return true}function wepsim_dialog_check_reset(a,b){$("#"+b).tokenfield("setTokens",[]);$("#"+b).val("");$("#"+a).html("");return true}function sim_tutorial_goframe(c,a,b){if(typeof tutorials[c]=="undefined"){return}var d=tutorials[c][get_cfg("ws_idiom")];if(typeof d=="undefined"){return}d[a].code_post();tutbox.modal("hide");setTimeout(function(){sim_tutorial_showframe(c,b)},d[a].wait_next);if(simcoreui_voice_canSpeak()){window.speechSynthesis.cancel()}}function sim_tutorial_cancelframe(){var a=get_cfg("ws_mode");wsweb_select_main(a);tutbox.modal("hide");if(simcoreui_voice_canSpeak()){window.speechSynthesis.cancel()}}function sim_tutorial_showframe(c,b){if(typeof tutorials[c]=="undefined"){return}var e=tutorials[c][get_cfg("ws_idiom")];if(typeof e=="undefined"){return}if(b==e.length){return}if(b<0){return}ga("send","event","help","help.tutorial","help.tutorial.name="+c+",step="+b);e[b].code_pre();var a=get_cfg("ws_idiom");var d={};d.cancel={label:i18n_get("gui",a,"Disable tutorial mode"),className:"btn-danger col float-right",callback:function(){sim_tutorial_cancelframe()}};if(b!=0){d.prev={label:i18n_get("gui",a,"Prev."),className:"btn-success col float-right",callback:function(){sim_tutorial_goframe(c,b,b-1)}}}if(b!=(e.length-1)){d.next={label:i18n_get("gui",a,"Next"),className:"btn-success col float-right",callback:function(){sim_tutorial_goframe(c,b,b+1)}}}else{d.end={label:i18n_get("gui",a,"End"),className:"btn-success col float-right",callback:function(){sim_tutorial_goframe(c,b,b+1)}}}tutbox=bootbox.dialog({title:e[b].title,message:e[b].message,buttons:d,size:"large",animate:false});simcoreui_voice_speak(e[b].title.replace(/<[^>]*>/g,"")+". "+e[b].message.replace(/<[^>]*>/g,""))}function wepsim_newbie_tour(){var a=get_cfg("ws_idiom");tour=introJs();tour.setOptions({steps:tour_steps[a],keyboardNavigation:true,showProgress:true,overlayOpacity:"0.1"});tour.onbeforechange(function(){tour_steps.en[this._currentStep].do_before()});tour.onexit(function(){$("#config2").modal("hide");$("#help1").modal("hide");$("#example1").modal("hide");if(get_cfg("ws_mode")!="ep"){wsweb_select_main("ep")}return true});tour.start();ga("send","event","ui","ui.tour","ui.tour.newbie")}function wepsim_load_from_file(c,b){var a=new FileReader();a.onload=function(d){var e=d.target.result;if(null!==b){b(e)}};a.onerror=function(d){console.error("File could not be read! Code "+d.target.error.code)};a.readAsText(c,"UTF-8")}function wepsim_save_to_file(d,c){var b=new Blob([d],{type:"text/plain"});var a=document.createElement("a");a.download=c;a.innerHTML="Download File";if(window.webkitURL!=null){a.href=window.webkitURL.createObjectURL(b)}else{a.href=window.URL.createObjectURL(b);a.onclick=function(e){document.body.removeChild(e.target)};a.style.display="none";document.body.appendChild(a)}a.click()}function getURLTimeStamp(){var b=new Date();var e=b.getUTCFullYear();var f=b.getUTCMonth()+1;var c=b.getUTCDate();var a=b.getUTCHours();var d=b.getUTCMinutes();return e+f+c+a+d}function fetchURL(a){if(navigator.onLine){return fetch(a+"?time="+getURLTimeStamp())}return caches.match(a)}function wepsim_load_from_url(b,a){if(false==is_mobile()){fetchURL(b).then(function(d){if(typeof d=="undefined"){console.error("File "+b+" could not be fetched: * Please check that you are on-line.");return}if(d.ok){d.text().then(function(e){a(e)})}})}else{var c=new XMLHttpRequest();c.onreadystatechange=function(){if((c.readyState==4)&&((c.status==200)||(c.status==0))){var d=c.responseText;if(null!=a){a(d)}}};c.open("GET",b,true);c.send()}}var wepsim_voice_commands={};var wepsim_voice_dialog=null;wepsim_voice_commands.hello=function(){var a="Hello, I am WepSIM, nice to meet you. ";simcoreui_voice_speak(a)};wepsim_voice_commands["(show) configuration"]=function(){wepsim_open_config_index()};wepsim_voice_commands["(show) examples"]=function(){wepsim_open_examples_index()};wepsim_voice_commands["load example :id (from) :level"]=function(d,c){var b=parseInt(d);var a=parseInt(c);load_from_example_firmware("ep:S"+a+"E"+a,true)};wepsim_voice_commands["(show) help"]=function(){wepsim_open_help_index();wepsim_help_refresh()};wepsim_voice_commands.close=function(){wepsim_close_help();wepsim_close_examples();wepsim_close_config();if(null!=wepsim_voice_dialog){wepsim_voice_dialog.modal("hide")}};wepsim_voice_commands.reset=function(){wepsim_execute_reset(true,true);var a="Current processor has been reset.";simcoreui_voice_speak(a)};wepsim_voice_commands.next=function(){wepsim_execute_instruction();var a="Next executed.";simcoreui_voice_speak(a)};wepsim_voice_commands["next micro(instruction)"]=function(){wepsim_execute_microinstruction();var a="Next microinstruction executed. ";simcoreui_voice_speak(a)};wepsim_voice_commands.play=function(){wepsim_execute_play("#qbp",false)};wepsim_voice_commands.stop=function(){wepsim_execute_stop("#qbp")};wepsim_voice_commands["describe micro(instruction)"]=function(){var a=get_verbal_from_current_mpc();simcoreui_voice_speak(a)};wepsim_voice_commands["describe instruction"]=function(){var a=get_verbal_from_current_pc();simcoreui_voice_speak(a)};wepsim_voice_commands.list=function(){var a="available commands:<br>";for(var b in wepsim_voice_commands){a=a+" * '"+b+"'<br>"}wepsim_voice_dialog=bootbox.alert(a);wepsim_voice_dialog.modal("show");var c=$("</p>").html(a).text();simcoreui_voice_speak(c)};wepsim_voice_commands.silence=function(){simcoreui_voice_stopSpeak()};function wepsim_voice_init(){if(!annyang){return false}annyang.addCommands(wepsim_voice_commands);annyang.addCallback("errorNetwork",function(){annyang.abort();alert("Sorry but some network connection is needed in order to use the voice recognition engine.")});SpeechKITT.annyang();SpeechKITT.setStylesheet("external/speechkitt/themes/flat.css");SpeechKITT.setInstructionsText("What can I help you with? (list)");SpeechKITT.vroom();return true}function wepsim_voice_start(){if(!annyang){wepsim_notify_error("<h4>Warning:<br/>annyang not available</h4>","Voice support is not available in this platform.");return false}SpeechKITT.show();return true}function wepsim_voice_stop(){if(!annyang){return false}SpeechKITT.hide();return true}function sim_change_workspace(b,a){if((typeof $.mobile!="undefined")&&(typeof $.mobile.pageContainer!="undefined")&&(typeof $.mobile.pageContainer.pagecontainer!="undefined")){$.mobile.pageContainer.pagecontainer("change",b)}else{$("#carousel-8").carousel(a)}}function wepsim_load_hw(){return true}function wepsim_show_wepmips(){$(".multi-collapse-2").collapse("show");$("#slider_cpucu").hide();$("#tab26").hide();$("#tab21").hide();$("#tab24").click();inputfirm.setOption("readOnly",true);$("#btn_micro1").addClass("d-none");return true}function wepsim_hide_wepmips(){$(".multi-collapse-2").collapse("show");$("#slider_cpucu").show();$("#tab26").show();$("#tab21").show();inputfirm.setOption("readOnly",false);$("#btn_micro1").removeClass("d-none");return true}function wepsim_activehw(i){simhw_setActive(i);var h=document.getElementById("svg_p");if(h!=null){h.setAttribute("data",simhw_active().sim_img_processor)}h=document.getElementById("svg_cu");if(h!=null){h.setAttribute("data",simhw_active().sim_img_controlunit)}h=document.getElementById("svg_p2");if(h!=null){h.setAttribute("data",simhw_active().sim_img_cpu)}var f=document.getElementById("svg_p");f.addEventListener("load",function(){simcore_init_eventlistener("svg_p",hash_detail2action);refresh()},false);var d=document.getElementById("svg_cu");d.addEventListener("load",function(){simcore_init_eventlistener("svg_cu",hash_detail2action);refresh()},false);wepsim_notify_warning("<strong>WARNING</strong>","Please remember the current firmware and assembly might need to be reloaded, because previous working session of the simulated hardware are not kept.");wepsim_notify_success("<strong>INFO</strong>",'"'+simhw_active().sim_name+'" has been activated.');var c=get_simware();update_memories(c);simcore_reset();var g=default_asmdbg_content_horizontal();for(var e in c.assembly){g=assembly2html(c.mp,c.labels2,c.seg,c.assembly);break}$("#asm_debugger").html(g);showhideAsmElements();return true}function wepsim_change_mode(b){var a=-1;switch(b){case"newbie":case"intro":case"wepmips":case"tutorial":a=simhw_getIdByName("ep");wepsim_activehw(a);break;default:a=simhw_getIdByName(b);wepsim_activehw(a);break}if("wepmips"==b){wepsim_show_wepmips()}else{wepsim_hide_wepmips()}if("intro"==b){sim_tutorial_showframe("welcome",0);return true}if("newbie"==b){wepsim_newbie_tour();return true}return true}function set_ab_size(f,d,g){var e=g;var c=12-e;$(f).removeClass();$(d).removeClass();if(e!=0){$(f).addClass("col-"+e)}else{$(f).addClass("col-12 order-1")}if(c!=0){$(d).addClass("col-"+c)}else{$(d).addClass("col-12 order-2")}}function wepsim_dialogbox_close_all(){$("#example1").modal("hide");$("#help1").modal("hide");$("#config2").modal("hide");$("#current_state1").modal("hide");$("#bin2").modal("hide")}function wepsim_confirm_exit(a){var b="o/";(a||window.event).returnValue=b;return b}function wepsim_show_quick_menu(b){var a=get_cfg("ws_idiom");var c='<ul class="list-group list-group-flush"><li class="list-group-item px-0 pt-1">   <em class="fas fa-flag"></em> &nbsp;  <a class="btn btn-sm btn-outline-secondary col-auto p-1 text-left float-right" href="#"      onclick="simcoreui_notify_notifications();               i18n_update_tags();               wsweb_quickmenu_close();               return false;">'+i18n_get("gui",a,"Show Notifications")+'...</a></li><li class="list-group-item px-0">   <em class="fas fa-bars"></em> &nbsp;  <span class="btn-group-toggle" data-toggle="buttons">  <label class="btn btn-sm btn-outline-secondary col-auto p-1 text-left float-right" data-toggle="collapse" href=".multi-collapse-1">  <input type="checkbox" checked="" autocomplete="off">'+i18n_get("gui",a,"Show/Hide ActionBar")+'</label>  </span></li><li class="list-group-item px-0">   <em class="fas fa-sliders-h"></em> &nbsp;  <span class="btn-group-toggle" data-toggle="buttons">  <label class="btn btn-sm btn-outline-secondary col-10 p-1 text-left float-right" data-toggle="collapse" href=".multi-collapse-2">  <input type="checkbox" checked="" autocomplete="off">'+i18n_get("gui",a,"Show/Hide Slider")+"</label>  </span></li>";if(get_cfg("enable_beta")===true){c+='<li class="list-group-item px-0 enabled_beta">   <em class="fas fa-clipboard"></em> &nbsp;  <button class="navbar-toggle btn btn-sm btn-outline-secondary col-10 p-1 text-left float-right" type="button"           onclick="wsweb_recordbar_toggle();                    return false;">'+i18n_get("gui",a,"Show/Hide Record")+"  </button></li>"}c+='<li class="list-group-item px-0">   <em class="fas fa-magic"></em> &nbsp;  <a class="btn btn-sm btn-outline-secondary col-10 p-1 text-left float-right" href="#"      onclick="wsweb_about_show();               wsweb_quickmenu_close();               return false;">'+i18n_get("gui",a,"About WepSIM")+'...</a></li><li class="list-group-item px-0">   <em class="fas fa-book-reader"></em> &nbsp;  <a class="btn btn-sm btn-outline-secondary col-10 pr-2 text-left float-right" href="#"      onclick="wepsim_newbie_tour();               wsweb_quickmenu_close();               return false;">'+i18n_get("gui",a,"Initial intro")+'...</a></li><button type="button" id="close" data-role="none"         class="btn btn-sm btn-danger w-100 p-0 mt-2"         onclick="wsweb_quickmenu_close();                  return false;">'+i18n_get("gui",a,"Close")+"</button></ul>";return c}function wepsim_init_helpDropdown(){var a="";a=i18n_get_dropdown(["gui","cfg"],"");$("#config2_lang").html(a);a=i18n_get_dropdown(["gui","help"],"wepsim_help_refresh();");$("#help1_lang").html(a);a=i18n_get_dropdown(["gui","examples"],"");$("#example1_lang").html(a);a=i18n_get_dropdown(["gui","states"],"update_checker_loadhelp('#help3a','help_dumper');");$("#current_state1_lang").html(a)}function wsweb_init_ui(){window.addEventListener("beforeunload",wepsim_confirm_exit);if(typeof jQuery.fx!="undefined"){jQuery.fx.off=true}if(typeof ko!="undefined"){ko.options.deferUpdates=true}$(".carousel").carousel({touch:false});$(".dropify").dropify();$("div.wsversion").replaceWith(get_cfg("version"));var b=get_cfg("enable_beta");if(b===false){$(".enabled_beta").addClass("d-none")}$("#end_state1").tokenfield({inputType:"textarea"});$("#end_state2").tokenfield({inputType:"textarea"});$("#po1").popover({trigger:"manual",html:true,placement:"auto",animation:false,container:"body",template:'<div class="popover shadow border border-secondary" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',content:function(){return wepsim_show_quick_menu("po1")},sanitizeFn:function(c){return c}});$('[data-toggle="tooltip"]').tooltip({trigger:"hover",sanitizeFn:function(c){return c}});$('a[data-toggle="popover1"]').popover({placement:"bottom",animation:false,trigger:"focus, hover",delay:{show:500,hide:100},sanitizeFn:function(c){return c}});showhideAsmElements();var a=$("#asm_table");$("#asm_debugger_container").scroll(function(){a.prop("scrollTop",this.scrollTop).prop("scrollLeft",this.scrollLeft)});$("[data-toggle=popover2]").popover({html:true,placement:"auto",animation:false,container:"body",content:function(){return wepsim_show_asm_columns_checked("popover2_asm")},sanitizeFn:function(c){return c}}).on("shown.bs.popover",function(c){showhideAsmHeader()});inputfirm_cfg={value:"\n\n\n\n\n\n\n\n\n\n\n\n",lineNumbers:true,lineWrapping:true,matchBrackets:true,tabSize:2,foldGutter:{rangeFinder:new CodeMirror.fold.combine(CodeMirror.fold.brace,CodeMirror.fold.comment)},gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],mode:"text/javascript"};inputfirm=sim_init_editor("inputFirmware",inputfirm_cfg);inputasm_cfg={value:"\n\n\n\n\n\n\n\n\n\n\n\n",lineNumbers:true,lineWrapping:true,matchBrackets:true,tabSize:2,extraKeys:{"Ctrl-Space":function(c){CodeMirror.showHint(c,function(e,g){var f=get_simware();var j=e.getCursor();var d=[];for(var h=0;h<f.firmware.length;h++){if(f.firmware[h].name!="begin"){d.push(f.firmware[h].signatureUser)}}return{list:d,from:j,to:j}})}},mode:"gas"};inputasm=sim_init_editor("inputAssembly",inputasm_cfg);wsweb_record_init();wepsim_init_helpDropdown()}function sim_cfg_editor_theme(a){var b=get_cfg("editor_theme");a.getWrapperElement().style["text-shadow"]="0.0em 0.0em";a.getWrapperElement().style["font-weight"]="bold";if(b==="blackboard"){a.getWrapperElement().style["font-weight"]="normal"}a.setOption("theme",b)}function sim_cfg_editor_mode(b){var a=get_cfg("editor_mode");if(a==="vim"){b.setOption("keyMap","vim")}if(a==="emacs"){b.setOption("keyMap","emacs")}if(a==="sublime"){b.setOption("keyMap","sublime")}}function sim_init_editor(c,a){var b=CodeMirror.fromTextArea(document.getElementById(c),a);b.setValue("\n\n\n\n\n\n\n\n\n\n");sim_cfg_editor_theme(b);sim_cfg_editor_mode(b);b.setSize("auto","auto");b.refresh();return b}function goError(c,e){c.setCursor({line:e-1,ch:0});var b=c.addLineClass(e-1,"background","CodeMirror-selected");setTimeout(function(){c.removeLineClass(b,"background","CodeMirror-selected")},3000);var a=c.charCoords({line:e,ch:0},"local").top;var d=c.getScrollerElement().offsetHeight/2;c.scrollTo(null,a-d-5)}function showError(c,b){var d=c.replace(/\t/g," ").replace(/   /g," ");var e=d.match(/Problem around line \d+/);var a="";if(null!=e){e=parseInt(e[0].match(/\d+/)[0]);a+='<button type="button" class="btn btn-danger"         onclick="wepsim_notify_close();                  goError('+b+", "+e+');"> Go line '+e+"</button>&nbsp;"}wepsim_notify_error("<strong>ERROR</strong>",d+"<br><center>"+a+'<button type="button" class="btn btn-danger"         onclick="wepsim_notify_close();"><span data-langkey="Close">Close</span></button></center>')}function wepsim_show_binary_code(b,a){$(a).html("<center><br>Loading binary, please wait...<br><br>WARNING: loading binary might take time on slow mobile devices.</center>");$(a).css({width:"100%",height:"inherit !important"});$(b).modal("show");setTimeout(function(){var d=get_simware();$(a).html(mp2html(d.mp,d.labels2,d.seg));for(var c in d.seg){$("#compile_begin_"+c).html("0x"+d.seg[c].begin.toString(16));$("#compile_end_"+c).html("0x"+d.seg[c].end.toString(16))}},300)}function wepsim_show_binary_microcode(b,a){$(a).html("<center><br>Loading binary, please wait...<br><br>WARNING: loading binary might take time on slow mobile devices.</center>");$(a).css({width:"100%",height:"inherit !important"});$(b).modal("show");setTimeout(function(){var c=get_simware();$(a).html(firmware2html(c.firmware,true));$(a).css({width:"inherit !important",height:"inherit !important"});$(b).trigger("refresh")},300)}function wepsim_compile_assembly(b){var a=get_simware();if(a.firmware.length===0){alert("WARNING: please load the microcode first.");sim_change_workspace("#main3");return false}var c=simlang_compile(b,a);if(c.error!=null){showError(c.error,"inputasm");return false}wepsim_notify_success("<strong>INFO</strong>","Assembly was compiled and loaded.");set_simware(c);update_memories(a);$("#asm_debugger").html(assembly2html(c.mp,c.labels2,c.seg,c.assembly));showhideAsmElements();simcore_reset();return true}function wepsim_compile_firmware(b){var a=simcore_compile_firmware(b);if(false===a.ok){showError(a.msg,"inputfirm");return false}wepsim_notify_success("<strong>INFO</strong>","Microcode was compiled and loaded.");simcore_reset();return true}function wsweb_change_workspace_simulator(){sim_change_workspace("#main1",0);setTimeout(function(){ga("send","event","ui","ui.workspace","ui.workspace.simulator")},50);simcore_record_add("Change to workspace simulator","wsweb_change_workspace_simulator();\n");return true}function wsweb_change_workspace_microcode(){sim_change_workspace("#main3",1);setTimeout(function(){inputfirm.refresh();ga("send","event","ui","ui.workspace","ui.workspace.microcode")},50);simcore_record_add("Change to workspace microcode","wsweb_change_workspace_microcode();\n");return true}function wsweb_change_workspace_assembly(){sim_change_workspace("#main4",2);setTimeout(function(){inputasm.refresh();ga("send","event","ui","ui.workspace","ui.workspace.assembly")},50);simcore_record_add("Change to workspace assembly","wsweb_change_workspace_assembly();\n");return true}function wsweb_change_show_processor(){$("#tab26").tab("show");start_drawing();refresh();simcore_record_add("Show processor details","wsweb_change_show_processor();\n");return true}function wsweb_change_show_asmdbg(){stop_drawing();$("#tab24").tab("show");simcore_record_add("Show assembly debugger","wsweb_change_show_asmdbg();\n");var b=fullshow_asmdbg_pc();if(typeof b[0]=="undefined"){return true}var a=$("#asm_debugger_container");a[0].scrollTop=b[0].offsetTop;return true}function wsweb_execution_reset(){wepsim_execute_reset(true,true);simcoreui_show_hw();simcore_record_add("Reset","wsweb_execution_reset();\n");return true}function wsweb_execution_microinstruction(){wepsim_execute_microinstruction();simcoreui_show_hw();simcore_record_add("Execute microinstruction","wsweb_execution_microinstruction();\n");return true}function wsweb_execution_instruction(){wepsim_execute_instruction();simcoreui_init_hw("#config_HW");simcore_record_add("Execute instruction","wsweb_execution_instruction();\n");return true}function wsweb_execution_run(){var a=get_cfg("ws_mode");if("tutorial"==a){wepsim_notify_success("<strong>INFO</strong>","Tutorial mode on. Use the configuration to change it.")}wepsim_execute_toggle_play("#qbp",(a=="tutorial"));simcore_record_add("Run","wsweb_execution_run();\n");$("#current_state2").one("hidden.bs.modal",function(){simcore_record_add("Close execution summary","wsweb_dialogbox_close_all();\n")});return true}function wsweb_dialogbox_open_examples(){wepsim_open_examples_index();$("[data-toggle=tooltip]").tooltip("hide");simcore_record_add("Open examples","wsweb_dialogbox_open_examples();\n");$("#example1").one("hidden.bs.modal",function(){simcore_record_add("Close examples","wsweb_dialogbox_close_all();\n")});wsweb_scroll_record("#container-example1");simcore_record_captureInit();return true}function wsweb_dialogbox_open_help(){wepsim_open_help_index();wepsim_help_refresh();$("[data-toggle=tooltip]").tooltip("hide");simcore_record_add("Open help","wsweb_dialogbox_open_help();\n");$("#help1").one("hidden.bs.modal",function(){simcore_record_add("Close help","wsweb_dialogbox_close_all();\n")});simcore_record_captureInit();return true}function wsweb_dialogbox_open_config(){wepsim_open_config_index();$("[data-toggle=tooltip]").tooltip("hide");simcore_record_add("Open configuration","wsweb_dialogbox_open_config();\n");$("#config2").one("hidden.bs.modal",function(){simcore_record_add("Close configuration","wsweb_dialogbox_close_all();\n")});wsweb_scroll_record("#container-config2");simcore_record_captureInit();return true}function wsweb_dialogbox_open_state(){wepsim_dialog_current_state();$("[data-toggle=tooltip]").tooltip("hide");simcore_record_add("Open state","wsweb_dialogbox_open_state();\n");$("#current_state1").one("hidden.bs.modal",function(){simcore_record_add("Close state","wsweb_dialogbox_close_all();\n")});simcore_record_captureInit();return true}function wsweb_dialogbox_open_binary_assembly(){var a=inputasm.getValue();var b=wepsim_compile_assembly(a);if(true==b){wepsim_show_binary_code("#bin2","#compile_results")}simcore_record_add("Open binary assembly","wsweb_dialogbox_open_binary_assembly();\n");$("#bin2").one("hidden.bs.modal",function(){simcore_record_add("Close binary assembly","wsweb_dialogbox_close_all();\n")});return true}function wsweb_dialogbox_open_binary_firmware(){var b=inputfirm.getValue();var a=wepsim_compile_firmware(b);if(true==a){wepsim_show_binary_microcode("#bin2","#compile_results");wepsim_notify_success("<strong>INFO</strong>","Please remember to recompile the assembly code if needed.")}simcore_record_add("Open binary firmware","wsweb_dialogbox_open_binary_firmware();\n");$("#bin2").one("hidden.bs.modal",function(){simcore_record_add("Close binary firmware","wsweb_dialogbox_close_all();\n")});return true}function wsweb_dialogbox_open_hardware_summary(){var b=simhw_active().sim_short_name;var c="examples/hardware/"+b+"/images/cpu.svg?time=20190102";var a="<object id=svg_p2         data='"+c+"'         type='image/svg+xml'>Your browser does not support SVG</object>";wepsim_open_help_content(a);simcore_record_add("Open hardware summary","wsweb_dialogbox_open_hardware_summary();\n");$("#help1").one("hidden.bs.modal",function(){simcore_record_add("Open hardware summary","wsweb_dialogbox_close_all();\n")});return true}function wsweb_dialogbox_close_state(){$("#current_state1").modal("hide");simcore_record_add("Close states dialogbox","wsweb_dialogbox_close_state();\n");return true}function wsweb_dialogbox_close_all(){$("#example1").modal("hide");$("#help1").modal("hide");$("#config2").modal("hide");$("#current_state1").modal("hide");$("#current_state2").modal("hide");$("#bin2").modal("hide");simcore_record_add("Close all dialogboxes","wsweb_dialogbox_close_all();\n");return true}function wsweb_set_details_select(b){$("#tab"+b).trigger("click");$("#select5a").val(b);var a=$("#s5b_"+b).html();$("#select5b").html(a);simcore_record_add("Change select details to "+b,"wsweb_set_details_select("+b+");\n");return true}var hash_detail2action={CLOCK:function(){wepsim_execute_microinstruction()},REGISTER_FILE:function(){wsweb_set_details_select(11);show_rf_values()},CONTROL_MEMORY:function(){wsweb_set_details_select(16);show_memories_values()},CPU_STATS:function(){wsweb_set_details_select(17);show_memories_values()},MEMORY:function(){wsweb_set_details_select(14);show_memories_values()},MEMORY_CONFIG:function(){wsweb_set_details_select(18);show_memories_values()},KEYBOARD:function(){wsweb_set_details_select(12);show_memories_values()},SCREEN:function(){wsweb_set_details_select(12);show_memories_values()},IO_STATS:function(){wsweb_set_details_select(15);show_memories_values()},IO_CONFIG:function(){wsweb_set_details_select(19);show_memories_values()},FRM_EDITOR:function(){wsweb_set_details_select(20);inputfirm.refresh()},ASM_EDITOR:function(){wsweb_set_details_select(21);inputasm.refresh()},HARDWARE:function(){wsweb_set_details_select(22);$("[data-toggle=tooltip]").tooltip("hide");simcoreui_init_hw("#config_HW");var a=get_cfg("ws_idiom");i18n_update_tags("gui",a)}};function wsweb_set_details(a){if(typeof hash_detail2action[a]!=="undefined"){hash_detail2action[a]()}simcore_record_add("Set details to "+a,"wsweb_set_details('"+a+"');\n");return true}function wsweb_select_main(b){set_cfg("ws_mode",b);save_cfg();wepsim_change_mode(b);$("#select4").css("background-color","#F6F6F6");if("tutorial"==b){$("#select4").css("background-color","#D4DB17")}var a=$("#s4_"+b).html();$("#select4").html(a);simcore_record_add("Set main work mode to "+b,'wsweb_select_main("'+b+'");\n');return true}function wsweb_mode_update(b){wsweb_select_main(b);simcore_init_ui("#states_ALL","#states_BR","#io_ALL","#cpu_ALL","#config_MP","#config_IO");simcoreui_init_hw("#config_HW");var a=get_cfg("ws_idiom");i18n_update_tags("gui",a);simcore_record_add("Update work mode to "+b,'wsweb_mode_update("'+b+'");\n');return true}function wsweb_set_cpucu_size(a){$("#slider2b").val(a);set_ab_size("#eltos_cpu_a","#eltos_cpu_b",a);set_cfg("CPUCU_size",a);save_cfg();simcore_record_add("Set cpu-cu size to "+a,"wsweb_set_cpucu_size("+a+");\n");return true}function wsweb_set_c1c2_size(a){$("#slider2a").val(a);set_ab_size("#col1","#col2",a);set_cfg("C1C2_size",a);save_cfg();simcore_record_add("Set c1-c2 size to "+a,"wsweb_set_c1c2_size("+a+");\n");return true}function wsweb_assembly_compile(){var a=inputasm.getValue();var b=wepsim_compile_assembly(a);simcore_record_add("Compile assembly","wsweb_assembly_compile();\n");return true}function wsweb_firmware_compile(){var b=inputfirm.getValue();wepsim_compile_firmware(b);var a="<div class='card m-3 border'><div class='card-body m-1'>Please remember that after updates on the microcode, the assembly code has be re-compiled too.</div></div>";$("#asm_debugger").html(a);simcore_record_add("Compile firmware","wsweb_firmware_compile();\n");return true}function wsweb_save_controlmemory_to_file(){var b="Do you want me to save the current Control Memory contents  rather than the editor contents?.\n\n";if(confirm(b)){var a=get_simware();var c=saveFirmware(a);if(c.trim()==""){alert("The Microcode loaded in memory is empty!\nPlease load a Microcode first in memory in order to save it.")}else{inputfirm.setValue(c)}var e=document.getElementById("inputFileNameToSaveAs").value;var d=inputfirm.getValue();wepsim_save_to_file(d,e)}simcore_record_add("Save control memory to file","wsweb_save_controlmemory_to_file();\n");return true}var wsweb_nfbox=null;function wsweb_notifyuser_show(c,b){if(c.trim()===""){c="&lt;empty title&gt;"}if(b.trim()===""){b="&lt;empty message&gt;"}var a=get_cfg("ws_idiom");wsweb_nfbox=bootbox.dialog({title:c,message:b,buttons:{cancel:{label:i18n_get("gui",a,"Cancel"),className:"btn-danger col-auto float-right"}},size:"large",animate:false});return true}function wsweb_notifyuser_hide(a){window.setTimeout(function(){wsweb_nfbox.modal("hide")},a);return true}function wsweb_notifyuser_add(){var a=get_cfg("ws_idiom");var c={};c.cancel={label:i18n_get("gui",a,"Close"),className:"btn-danger col-auto float-left mr-auto"};c.end={label:i18n_get("gui",a,"Save"),className:"btn-success col-auto float-right",callback:function(){var f=$("#frm_title1").val();var d=$("#frm_message1").val();var e=$("#frm_duration1").val();f=f.replace(/<[^>]*>/g,"");d=d.replace(/<[^>]*>/g,"");e=parseInt(e);if(isNaN(e)){e=5000}else{e=1000*e}simcore_record_addAlways('Message with title "'+f+'" and message "'+d+'".','wsweb_notifyuser_show("'+f+'", "'+d+'");\n');simcore_record_addAlways("Close message with title "+f,"wsweb_notifyuser_hide("+e+");\n")}};var b='<div class="container"><label for="frm_title1"><em>'+i18n_get("gui",a,"Title")+':</em></label><p><input aria-label="title" id="frm_title1" 	  class="form-control btn-outline-dark" placeholder="Title for the notification" style="min-width: 90%;"/></p><label for="frm_message1"><em>'+i18n_get("gui",a,"Message")+':</em></label><p><textarea aria-label="message" id="frm_message1" 	      class="form-control btn-outline-dark" placeholder="Message for the notification" style="min-width: 90%;"/></p><label for="frm_duration1"><em>'+i18n_get("gui",a,"Duration")+':</em></label><p><input aria-label="duration" id="frm_duration1" type="number" 	  class="form-control btn-outline-dark" placeholder="Duration for the notification in seconds" style="min-width: 90%;"/></p></div>';wsweb_nfbox=bootbox.dialog({title:"Form to add a message during playback...",message:b,buttons:c,size:"large",animate:false});return true}function wsweb_record_init(){simcore_record_init("record_msg");return true}function wsweb_record_on(){simcore_record_on();return true}function wsweb_record_off(){simcore_record_off();return true}function wsweb_record_reset(){simcore_record_reset();return true}function wsweb_record_play(){simcore_record_play();return true}function wsweb_record_pause(){simcore_record_pause();return true}function wsweb_about_show(){$("#about2").modal("show");simcore_record_add('Open the "about" dialogbox',"wsweb_about_show();\n");return true}function wsweb_about_close(){$("#about2").modal("hide");simcore_record_add('Close the "about" dialogbox',"wsweb_about_close();\n");return true}function wsweb_quickmenu_show(){$("#po1").popover("show");simcore_record_add('Open the "quick menu"',"wsweb_quickmenu_show();\n");return true}function wsweb_quickmenu_close(){$("#po1").popover("hide");simcore_record_add('Close the "quick menu"',"wsweb_quickmenu_close();\n");return true}function wsweb_quickmenu_toggle(){$("#po1").popover("toggle");simcore_record_add('Toggle the "quick menu"',"wsweb_quickmenu_toggle();\n");return true}function wsweb_recordbar_toggle(){$("#record_div").collapse("toggle");simcore_record_add('Toggle the "record toolbar"',"wsweb_recordbar_toggle();\n");return true}function wsweb_recordbar_close(){$("#record_div").collapse("hide");simcore_record_add('Close the "record toolbar"',"wsweb_recordbar_close();\n");return true}var wsweb_scroll_timer=null;function wsweb_scroll_to(b,c){var a=$(b);a.scrollTop(c)}function wsweb_scroll_record(c){var a=$(c);var b=function(){var d=a.scrollTop();simcore_record_add("Scroll content",'wsweb_scroll_to("'+c+'", '+d+");\n")};a.scroll(function(){if(wsweb_scroll_timer!==null){clearTimeout(wsweb_scroll_timer)}wsweb_scroll_timer=setTimeout(b,150)})};