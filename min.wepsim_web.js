var toggle_extended=false;function wepsim_open_examples_index(a){if(true==a){toggle_extended=!toggle_extended}$("#container-example1").html(table_examples_html(examples,toggle_extended));$("#container-example1").enhanceWithin();$("#example1").trigger("updatelayout");$("#example1").modal("show")}function wepsim_close_examples(){$("#example1").modal("hide")}function load_from_example_assembly(c,d){$.mobile.pageContainer.pagecontainer("change","#main4");inputasm.setValue("Please wait...");inputasm.refresh();var b="examples/exampleCode"+c+".txt";var a=function(f){inputasm.setValue(f);inputasm.refresh();var g=false;var e=get_simware();if(e.firmware.length!=0){g=wepsim_compile_assembly(f)}if(true==g){if(true==d){setTimeout(function(){$.mobile.pageContainer.pagecontainer("change","#main1");show_memories_values()},50)}}wepsim_notify_success("<strong>INFO</strong>","Example ready to be used.")};wepsim_load_from_url(b,a);ga("send","event","example","example.assembly","example.assembly."+c)}function load_from_example_firmware(c,d){$.mobile.pageContainer.pagecontainer("change","#main3");inputfirm.setValue("Please wait...");inputfirm.refresh();var b="";var e=get_cfg("ws_mode");if("wepmips"==e){b="examples/exampleMicrocodeMIPS.txt";inputfirm.setOption("readOnly",true)}else{b="examples/exampleMicrocode"+c+".txt";inputfirm.setOption("readOnly",false)}var a=function(f){inputfirm.setValue(f);inputfirm.refresh();var g=wepsim_compile_firmware(f);if(true==g){if(true==d){setTimeout(function(){load_from_example_assembly(c,d)},50)}else{show_memories_values()}}wepsim_notify_success("<strong>INFO</strong>","Example ready to be used.")};wepsim_load_from_url(b,a);ga("send","event","example","example.firmware","example.firmware."+c)}function table_examples_html(g,i){var c="";var d="";var e="";var k="";var a="";var j="";var h="";var b=get_cfg("ws_idiom");c=c+'<div class="container grid-striped border border-light">';for(var f=0;f<g[b].length;f++){e="";if(a!=g[b][f].level){e="<div class='col-sm-12 border-bottom border-secondary text-right text-capitalize font-weight-bold'>"+g[b][f].level+"</div>"}k=g[b][f].title;a=g[b][f].level;j=g[b][f].description;h=g[b][f].id;if(d==""){d="bg-light"}else{d=""}c=c+e+"<div class='row py-1 "+d+'\'><div class="col-sm-auto">    <span class="badge badge-pill badge-light">'+(f+1)+"</span></div><div class=\"col-sm-3\">   <span style=\"padding:0 0 0 0; margin:0 8 0 0; cursor:pointer;\"          onclick=\"$('#example1').modal('hide'); load_from_example_firmware('"+h+'\',true);"          class="bg-info text-white">'+k+'</span></div><div class="col-sm">    <c>'+j+"</c></div>";if(true==i){c=c+"<div class=\"col-sm-auto\">     <div class=\"btn-group btn-group-justified btn-group-md\">         <a onclick=\"$('#example1').modal('hide'); load_from_example_assembly('"+h+"',false);\"  style=\"padding:0 0 0 0; margin:0 8 0 0;\"            class=\"bg-dark text-white\">            <c>Assembly</c></a>         <a onclick=\"$('#example1').modal('hide'); load_from_example_firmware('"+h+'\',false);" style="padding:0 0 0 0; margin:0 7 0 0;"            class="bg-dark text-white">            <c>Firmware</c></a>     </div></div>'}c=c+"</div>"}c=c+"</div>";return c}function table_helps_html(a){var b="";var c="";var d="";var l="";var j="";var i="";var n="";var k="";var g="";var f=[];for(var e=0;e<a.length;e++){if(!f.includes(a[e].u_type)){f.push(a[e].u_type)}}b=b+'<div class="container grid-striped border border-light">';for(e=0;e<a.length;e++){d="";if(i!=a[e].u_type){d="<div class='row'><div class='float-none text-right text-capitalize font-weight-bold col-12 border-bottom border-secondary'>"+a[e].u_type+"</div></div>"}l=a[e].title;j=a[e].i_type;i=a[e].u_type;n=a[e].reference;k=a[e].description;g=a[e].id;var h="";if("relative"==j){h="wepsim_help_set_relative('"+n+"');wepsim_help_refresh();"}if("absolute"==j){h="wepsim_help_set_absolute('"+n+"');wepsim_help_refresh();"}if("code"==j){h=n}if(c==""){c="bg-light"}else{c=""}b=b+d+"<div class='row py-1 "+c+"' id='"+i+'\'><div class="col-md-auto">    <span class="badge badge-pill badge-light">'+e+'</span></div><div class="col-md-4">    <span class="bg-success text-white" style="cursor:pointer;"           onclick="'+h+'">'+l+'</span></div><div class="col-md">    <c>'+k+"</c></div></div>"}b=b+"</div>";return b}function wepsim_help_refresh(){var b=$("#help1_ref").data("relative");if((typeof b!="undefined")&&(b!="")){$("#iframe_help1").load("help/simulator-"+get_cfg("ws_idiom")+".html "+b,function(){$("#help1").trigger("updatelayout");$("#help1").modal("show")});ga("send","event","help","help.simulator","help.simulator."+b);return}var a=$("#help1_ref").data("absolute");if((typeof a!="undefined")&&(a!="")){$("#iframe_help1").load("help/"+a+"-"+get_cfg("ws_idiom")+".html",function(){$("#help1").trigger("updatelayout");$("#help1").modal("show")});ga("send","event","help","help."+a,"help."+a+".*");return}var c=$("#help1_ref").data("code");if((typeof c!="undefined")&&(c=="true")){ga("send","event","help","help.code","help.code.*");return}wepsim_open_help_index()}function wepsim_open_help_index(){var a=help[get_cfg("ws_idiom")];$("#iframe_help1").html(table_helps_html(a));$("#iframe_help1").enhanceWithin();$("#help1_ref").data("relative","");$("#help1_ref").data("absolute","");$("#help1_ref").data("code","false");$("#help1").trigger("updatelayout");$("#help1").modal("show")}function wepsim_open_help_content(a){$("#iframe_help1").html(a);$("#iframe_help1").enhanceWithin();$("#help1_ref").data("relative","");$("#help1_ref").data("absolute","");$("#help1_ref").data("code","true");$("#help1").trigger("updatelayout");$("#help1").modal("show")}function wepsim_close_help(){$("#help1").modal("hide")}function wepsim_help_set_relative(a){$("#help1_ref").data("relative",a);$("#help1_ref").data("absolute","");$("#help1_ref").data("code","false")}function wepsim_help_set_absolute(a){$("#help1_ref").data("relative","");$("#help1_ref").data("absolute",a);$("#help1_ref").data("code","false")}function update_checker_loadhelp(a,c){var b="help/simulator-"+get_cfg("ws_idiom")+".html #"+c;$(a).load(b,function(e,d,f){if($(a).html()==""){$(a).html("<br>Sorry, there is no more details.<p>\n")}$(a).trigger("create")});ga("send","event","help","help.checker","help.checker."+c)}function wepsim_show_wepmips(){$("#tab26").hide();$("#tab21").hide();$("#tab24").click()}function wepsim_hide_wepmips(){$("#tab26").show();$("#tab21").show()}function wepsim_native_get_signal(a){return(get_value(simhw_sim_signal(a))>>>0)}function wepsim_native_set_signal(a,b){set_value(simhw_sim_signal(a),b);compute_behavior("FIRE "+a);return b}function wepsim_native_get_value(d,a){var c=0;if(("CPU"==d)||("BR"==d)){if(Number.isInteger(a)){c=a}else{c=parseInt(a)}if(isNaN(c)){return(get_value(simhw_sim_state(a))>>>0)}return(get_value(simhw_sim_states().BR[c])>>>0)}if("MEMORY"==d){return((MP[a])>>>0)}if("DEVICE"==d){var e=io_hash[a];var f=(get_value(simhw_sim_state(e))>>>0);set_value(simhw_sim_state("BUS_AB"),a);set_value(simhw_sim_signal("IOR"),1);compute_behavior("FIRE IOR");f=get_value(simhw_sim_state("BUS_DB"));return f}if("SCREEN"==d){var b=get_screen_content();return b}return false}function wepsim_native_set_value(c,a,e){var b=0;if(("CPU"==c)||("BR"==c)){if(Number.isInteger(a)){b=a}else{b=parseInt(a)}if(isNaN(b)){set_value(simhw_sim_state(a),e);if("REG_PC"==a){show_asmdbg_pc()}return e}return set_value(simhw_sim_states().BR[b],e)}if("MEMORY"==c){MP[a]=e;return e}if("DEVICE"==c){var d=io_hash[a];set_value(simhw_sim_state(d),e);set_value(simhw_sim_state("BUS_AB"),a);set_value(simhw_sim_state("BUS_DB"),e);set_value(simhw_sim_signal("IOW"),1);compute_behavior("FIRE IOW");return e}if("SCREEN"==c){set_screen_content(e);return e}return false}function wepsim_native_get_fields(b){var a=get_simware();for(var c in a.firmware){if(a.firmware[c].signatureRaw==b){return a.firmware[c].fields}}}function wepsim_native_get_field_from_ir(a,b){if(typeof a[b]=="undefined"){return false}var d=get_value(simhw_sim_state("REG_IR"));var e=(31-parseInt(a[b].startbit));var c=parseInt(a[b].stopbit);d=d<<e;d=d>>>e;d=d>>>c;return d}function wepsim_native_deco(){compute_behavior("DECO")}function wepsim_native_go_maddr(a){set_value(simhw_sim_state("MUXA_MICROADDR"),a)}function wepsim_native_go_opcode(){var a=get_value(simhw_sim_state("ROM_MUXA"));set_value(simhw_sim_state("MUXA_MICROADDR"),a)}function wepsim_native_go_instruction(b){var a=get_simware();for(var d in a.firmware){if(a.firmware[d].signatureRaw==b){var c=a.firmware[d]["mc-start"];set_value(simhw_sim_state("MUXA_MICROADDR"),c);return}}}var clipboard_copy="";function get_clipboard_copy(){return clipboard_copy}function SelectText(b){var d=document,e=d.getElementById(b),a,c;if(d.body.createTextRange){a=document.body.createTextRange();a.moveToElementText(e);a.select()}else{if(window.getSelection){c=window.getSelection();a=document.createRange();a.selectNodeContents(e);c.removeAllRanges();c.addRange(a)}}}function CopyFromDiv(b){var c="successful";try{SelectText(b);document.execCommand("copy");clipboard_copy=$("#"+b).text()}catch(a){c="unsuccessful"}wepsim_notify_success("<strong>INFO</strong>","Copied "+c+"!.")}function CopyFromTextarea(c){var d="successful";try{var b=document.getElementById(c);b.select();document.execCommand("copy");clipboard_copy=$("#"+c).val()}catch(a){d="unsuccessful"}wepsim_notify_success("<strong>INFO</strong>","Copied "+d+"!.")}var state_history=[];function wepsim_state_history_reset(){state_history=[]}function wepsim_state_history_add(){var e=get_value(simhw_sim_state("REG_MICROADDR"));var a=get_value(simhw_sim_state("CLK"));var b=simstate_current2state();var c=simstate_state2checklist(b);var d=new Date().getTime();state_history.push({time:d,title:"clock "+a+" @ micro-address "+e,content:c})}function wepsim_state_history_list(){if(0==state_history.length){$("#history1").html('&emsp;<span style="background-color:#FCFC00">Empty.</span>');$("#check_results1").html("");return}var b=0;var c='<div class="card-group-vertical" id="accordion1">';for(var a=state_history.length-1;a>=0;a--){b=new Date(state_history[a].time);c+='<div class="card">  <div class="card-header row"        style="width:101%; padding:8 15 8 15;">    <h5 class="card-title col"           data-toggle="collapse" data-target="#collapse_'+a+'" data-parent="#accordion1">      <span>['+b.getFullYear()+"-"+(b.getMonth()+1)+"-"+b.getDate()+"_"+b.getHours()+"-"+b.getMinutes()+"-"+b.getSeconds()+"_"+b.getMilliseconds()+"] "+state_history[a].title+'      </span>    </h5>    <div class="btn-group" role="group" aria-label="Basic example">    <button class="btn btn-outline-dark btn-sm col float-right"           onclick="CopyFromTextarea(\'ta_state_'+a+'\');"            type="button">Copy<span class="d-none d-sm-inline-flex">&nbsp;to clipboard</span></button>    <button class="btn btn-outline-dark btn-sm col float-right"            onclick="var txt_chklst1 = get_clipboard_copy();                     var obj_exp1    = simstate_checklist2state(txt_chklst1);                     var txt_chklst2 = $(\'#ta_state_'+a+'\').val();                     var obj_exp2    = simstate_checklist2state(txt_chklst2);                     wepsim_dialog_check_state(\'check_results1\', obj_exp1, obj_exp2);"         type="button">Check <span class="d-none d-md-inline-flex">differences with clipboard state</span></button>    </div>  </div>  <div id="collapse_'+a+'" class="collapse">    <div class="card-body">      <div class="card-body"            style="padding:5 5 5 5;"            id="state_'+a+'">'+state_history[a].content+'</div>      <textarea aria-label="hidden-state"  style="display:none"                id="ta_state_'+a+'" readonly>'+state_history[a].content+"</textarea>    </div>  </div></div>"}c+="</div>";$("#history1").html(c);$("#check_results1").html("")}function wepsim_dialog_current_state(){wepsim_notify_success("<strong>INFO</strong>","Loading, please wait...");$("#current_state1").modal("show");setTimeout(function(){var f=simstate_current2state();var d=simstate_state2checklist(f);$("#end_state1").tokenfield("setTokens",d);wepsim_notify_close();wepsim_notify_success("<strong>INFO</strong>","Current state loaded !");var c=0;var e=0;var g="";for(var b in f){e=0;for(var a in f[b]){e++}g=g+","+b+"="+e;c=c+e}ga("send","event","state","state.dump","state.dump.ci="+get_value(simhw_sim_state("REG_IR_DECO"))+",neltos="+c+g)},80)}function wepsim_dialog_check_state(c,b,e){var a=simstate_diff_results(b,e);var d="";if(0==a.errors){d="&emsp;<span style='background-color:#7CFC00'>Meets the specified requirements</span><br>"}else{d=simstate_checkreport2html(a.result,true)}$("#"+c).html(d);ga("send","event","state","state.check","state.check,ci="+get_value(simhw_sim_state("REG_IR_DECO"))+".a="+a.neltos_expected+",b="+a.neltos_obtained+",sd="+a.errors);return true}function wepsim_dialog_check_reset(a,b){$("#"+b).tokenfield("setTokens",[]);$("#"+b).val("");$("#"+a).html("");return true}function sim_tutorial_showframe(b,a){if(typeof tutorials[b]=="undefined"){return}var d=tutorials[b][get_cfg("ws_idiom")];if(typeof d=="undefined"){return}if(a==d.length){return}if(a<0){return}ga("send","event","help","help.tutorial","help.tutorial.name="+b+",step="+a);d[a].code_pre();if(wepsim_voice_canSpeak()){tut_msg1=new SpeechSynthesisUtterance(d[a].title.replace(/<[^>]*>/g,"")+". "+d[a].message.replace(/<[^>]*>/g,""));tut_msg1.lang="en-US"}var c={};c.cancel={label:"Disable tutorials",className:"btn-danger col float-right",callback:function(){set_cfg("ws_mode","wepsim");save_cfg();$("#select4").val("wepsim");tutbox.modal("hide");if(wepsim_voice_canSpeak()){window.speechSynthesis.cancel()}}};if(a!=0){c.prev={label:"Prev.",className:"btn-success col float-right",callback:function(){d[a].code_post();setTimeout(function(){sim_tutorial_showframe(b,a-1)},d[a].wait_next);if(wepsim_voice_canSpeak()){window.speechSynthesis.cancel()}}}}if(a!=(d.length-1)){c.next={label:"Next",className:"btn-success col float-right",callback:function(){d[a].code_post();setTimeout(function(){sim_tutorial_showframe(b,a+1)},d[a].wait_next);if(wepsim_voice_canSpeak()){window.speechSynthesis.cancel()}}}}else{c.end={label:"End",className:"btn-success col float-right",callback:function(){d[a].code_post();setTimeout(function(){sim_tutorial_showframe(b,a+1)},d[a].wait_next);if(wepsim_voice_canSpeak()){window.speechSynthesis.cancel()}}}}tutbox=bootbox.dialog({title:d[a].title,message:d[a].message,buttons:c,size:"large",animate:false});if(wepsim_voice_canSpeak()){window.speechSynthesis.speak(tut_msg1)}}function wepsim_load_from_file(c,a){var b=new FileReader();b.onload=function(d){var e=d.target.result;if(null!=a){a.setValue(e)}};b.onerror=function(d){console.error("File could not be read! Code "+d.target.error.code)};b.readAsText(c,"UTF-8")}function wepsim_save_to_file(b,e){var d=b.getValue();var c=new Blob([d],{type:"text/plain"});var a=document.createElement("a");a.download=e;a.innerHTML="Download File";if(window.webkitURL!=null){a.href=window.webkitURL.createObjectURL(c)}else{a.href=window.URL.createObjectURL(c);a.onclick=function(f){document.body.removeChild(f.target)};a.style.display="none";document.body.appendChild(a)}a.click()}function getURLTimeStamp(){var b=new Date();var e=b.getUTCFullYear();var f=b.getUTCMonth()+1;var c=b.getUTCDate();var a=b.getUTCHours();var d=b.getUTCMinutes();return e+f+c+a+d}function fetchURL(a){if(navigator.onLine){return fetch(a+"?time="+getURLTimeStamp())}return caches.match(a)}function wepsim_load_from_url(b,a){fetchURL(b).then(function(c){if(c.ok){c.text().then(function(d){a(d)})}})}function wepsim_voice_init(){if(!annyang){return false}var a={reset:function(){wepsim_execute_reset(true,true)},"next instruction":wepsim_execute_instruction,"next micro(instruction)":wepsim_execute_microinstruction,play:function(){wepsim_execute_play("#qbp",false)},stop:function(){wepsim_execute_stop("#qbp")},help:wepsim_open_help_index,examples:function(){wepsim_open_examples_index(false)},configuration:function(){$("#config2").modal("show")},close:function(){wepsim_close_help();wepsim_close_examples();$("#config2").modal("show")}};annyang.addCommands(a);annyang.addCallback("errorNetwork",function(){annyang.abort();alert("Sorry but some network connection is needed in order to use the voice recognition engine.")});SpeechKITT.annyang();SpeechKITT.setStylesheet("external/speechkitt.css");SpeechKITT.vroom();return true}function wepsim_voice_start(){if(!annyang){return false}SpeechKITT.show();return true}function wepsim_voice_stop(){if(!annyang){return false}SpeechKITT.hide();return true}function wepsim_voice_canSpeak(){if(typeof window.speechSynthesis=="undefined"){return false}if(false==get_cfg("use_voice")){return false}return true}function wepsim_execute_reset(c,b){wepsim_state_history_reset();if(true==b){var a=get_simware();if(a.firmware.length!=0){update_memories(a)}}if(true==c){sim_core_reset()}}function wepsim_execute_instruction(){var a=sim_core_check_if_can_execute();if(false==a.ok){alert(a.msg);return false}var b=get_cfg("DBG_limitick");a=sim_core_execute_microprogram(0,b);if(false==a.ok){wepsim_show_stopbyevent("Info",a.msg);return false}return true}function wepsim_execute_microinstruction(){var a=sim_core_check_if_can_execute();if(false==a.ok){alert(a.msg);return false}a=sim_core_execute_microinstruction();if(false==a.ok){wepsim_show_stopbyevent("Info",a.msg);return false}return true}function wepsim_execute_set_breakpoint(a){return asmdbg_set_breakpoint(a)}var DBG_stop=true;var DBG_limit_instruction=0;function wepsim_execute_stop(a){$(a).html("<br><b>Run</b>");$(a).removeClass("ui-icon-minus");$(a).addClass("ui-icon-carat-r");$(a).css("backgroundColor","#CCCCCC");DBG_stop=true;DBG_limit_instruction=0}function wepsim_execute_play(c,b){var a=sim_core_check_if_can_execute();if(false==a.ok){alert(a.msg);return false}$(c).css("backgroundColor","rgb(51, 136, 204)");$(c).html("<br><b>Stop</b>");$(c).removeClass("ui-icon-carat-r");$(c).addClass("ui-icon-minus");DBG_stop=false;DBG_limit_instruction=0;if(false==b){wepsim_execute_chainplay(c)}else{wepsim_execute_chainnotify(c)}}function wepsim_execute_toggle_play(b,a){if(DBG_stop==false){DBG_stop=true}else{wepsim_execute_play(b,a)}}function wepsim_check_stopbybreakpoint_firm(){var b=get_value(simhw_sim_state("REG_MICROADDR"));var a="0x"+b.toString(16);if(typeof MC_dashboard[b]=="undefined"){return false}return(MC_dashboard[b].breakpoint)}function wepsim_check_stopbybreakpoint_asm(){var a=get_value(simhw_sim_state("REG_PC"));var b="0x"+a.toString(16);if(typeof FIRMWARE.assembly[b]=="undefined"){return false}return(FIRMWARE.assembly[b].breakpoint)}function wepsim_show_stopbyevent(d,c){var g=get_value(simhw_sim_state("REG_MICROADDR"));var a="0x"+g.toString(16);var b=get_value(simhw_sim_state("REG_PC"));var f="0x"+b.toString(16);var e=d+" @ pc="+f+"+mpc="+a+":<br>"+c;$("#dlg_title2").html(e);$("#current_state2").modal("show");return true}function wepsim_check_state_firm(){var a=get_value(simhw_sim_state("REG_MICROADDR"));if(false==MC_dashboard[a].state){return false}wepsim_state_history_add();return true}function wepsim_execute_chunk(e,b){var a=false;var c=0;var d=get_cfg("DBG_level");if(d=="instruction"){var g=get_cfg("DBG_limitick");for(c=0;c<b;c++){a=sim_core_execute_microprogram(0,g);if(a.ok===false){wepsim_show_stopbyevent("Info",a.msg);wepsim_execute_stop(e);return false}a=wepsim_check_stopbybreakpoint_asm();if(true==a){wepsim_show_stopbyevent("Breakpoint","Instruction is going to be fetched.");wepsim_execute_stop(e);return false}}}else{var f=0;for(c=0;c<b;c++){wepsim_check_state_firm();a=sim_core_execute_microinstruction();if(false==a.ok){wepsim_show_stopbyevent("Info",a.msg);wepsim_execute_stop(e);return false}a=wepsim_check_stopbybreakpoint_firm();if(true==a){wepsim_show_stopbyevent("Breakpoint","Microinstruction is going to be issue.");wepsim_execute_stop(e);return false}f=get_value(simhw_sim_state("REG_MICROADDR"));if(0==f){a=wepsim_check_stopbybreakpoint_asm();if(true==a){wepsim_show_stopbyevent("Breakpoint","Instruction is going to be fetched.");wepsim_execute_stop(e);return false}}}}return true}var max_turbo=5;function wepsim_reset_max_turbo(){max_turbo=5}function wepsim_execute_chainplay(d){var e=1;var c=1;if(DBG_stop){wepsim_execute_stop(d);return}var b=1;if(get_cfg("DBG_delay")<5){b=max_turbo}if(max_turbo==5){e=performance.now()}var a=wepsim_execute_chunk(d,b);if(false==a){return}if(max_turbo==5){c=performance.now()}if(max_turbo==5){max_turbo=3000/(c-e)}DBG_limit_instruction+=b;if(DBG_limit_instruction>get_cfg("DBG_limitins")){wepsim_show_stopbyevent("Limit","Number of executed instructions limit reached.");wepsim_execute_stop(d);return}setTimeout(wepsim_execute_chainplay,get_cfg("DBG_delay"),d)}function wepsim_execute_chainnotify(f){if(DBG_stop){wepsim_execute_stop(f);return}var c=false;for(var d=0;d<max_turbo;d++){c=sim_core_execute_microinstruction();if(false==c.ok){wepsim_show_stopbyevent("Info",c.msg);wepsim_execute_stop(f);return}var h=get_value(simhw_sim_state("REG_MICROADDR"));var b=MC_dashboard[h].notify.length;if(b>1){var g="Notify @ "+h+": "+MC_dashboard[h].notify[1];var e="";for(var a=1;a<b;a++){e+=MC_dashboard[h].notify[a]+"\n<br>"}bootbox.confirm({title:g,message:e,buttons:{cancel:{label:"Stop",className:"btn-danger"},confirm:{label:"Continue",className:"btn-primary"}},callback:function(i){if(i){setTimeout(wepsim_execute_chainnotify,get_cfg("DBG_delay"),f)}else{wepsim_execute_stop(f)}}});return}}setTimeout(wepsim_execute_chainnotify,get_cfg("DBG_delay"),f)}function sim_prepare_svg_p(){var a=document.getElementById("svg_p").contentDocument;if(a!=null){var b=a.getElementById("text3495");if(b!=null){b.addEventListener("click",function(){$("#tab11").trigger("click");$("#select5a").val(11)},false)}b=a.getElementById("text3029");if(b!=null){b.addEventListener("click",function(){$("#tab11").trigger("click");$("#select5a").val(11)},false)}b=a.getElementById("text3031");if(b!=null){b.addEventListener("click",function(){$("#tab11").trigger("click");$("#select5a").val(11)},false)}b=a.getElementById("text3001");if(b!=null){b.addEventListener("click",function(){$("#tab14").trigger("click");$("#select5a").val(14)},false)}b=a.getElementById("text3775");if(b!=null){b.addEventListener("click",function(){$("#tab15").trigger("click");$("#select5a").val(15)},false)}b=a.getElementById("text3829");if(b!=null){b.addEventListener("click",function(){$("#tab12").trigger("click");$("#select5a").val(12)},false)}b=a.getElementById("text3845");if(b!=null){b.addEventListener("click",function(){$("#tab12").trigger("click");$("#select5a").val(12)},false)}b=a.getElementById("text3459-7");if(b!=null){b.addEventListener("click",function(){wepsim_execute_microinstruction()},false)}}}function sim_prepare_svg_cu(){var b=document.getElementById("svg_cu").contentDocument;if(b!=null){var a=b.getElementById("text3010");if(a!=null){a.addEventListener("click",function(){$("#tab16").trigger("click");$("#select5a").val(16)},false)}a=b.getElementById("text4138");if(a!=null){a.addEventListener("click",function(){wepsim_execute_microinstruction()},false)}a=b.getElementById("text4138-7");if(a!=null){a.addEventListener("click",function(){wepsim_execute_microinstruction()},false)}}}function sim_prepare_editor(b){b.setValue("\n\n\n\n\n\n\n\n\n\n");b.getWrapperElement().style["text-shadow"]="0.0em 0.0em";if(get_cfg("editor_theme")=="blackboard"){b.getWrapperElement().style["font-weight"]="normal";b.setOption("theme","blackboard")}var a=get_cfg("editor_mode");if(a=="vim"){b.setOption("keyMap","vim")}if(a=="emacs"){b.setOption("keyMap","emacs")}if(a=="sublime"){b.setOption("keyMap","sublime")}setTimeout(function(){b.refresh()},100)}function wepsim_compile_assembly(b){var a=get_simware();if(a.firmware.length==0){alert("WARNING: please load the microcode first.");$.mobile.pageContainer.pagecontainer("change","#main3");return false}var c=simlang_compile(b,a);if(c.error!=null){showError(c.error,"inputasm");return false}wepsim_notify_success("<strong>INFO</strong>","Assembly was compiled and loaded.");set_simware(c);update_memories(a);$("#asm_debugger").html(assembly2html(c.mp,c.labels2,c.seg,c.assembly));showhideAsmElements();sim_core_reset();return true}function wepsim_compile_firmware(b){var a=sim_core_compile_firmware(b);if(false==a.ok){showError(a.msg,"inputfirm");return false}wepsim_notify_success("<strong>INFO</strong>","Microcode was compiled and loaded.");sim_core_reset();return true}function wepsim_notify_success(a,b){return simcoreui_notify(a,b,"success",get_cfg("NOTIF_delay"))}function wepsim_notify_error(a,b){return simcoreui_notify(a,b,"danger",0)}function wepsim_notify_close(){return simcoreui_notify_close()}function showError(c,b){var d=c.replace(/\t/g," ").replace(/   /g," ");var e=d.match(/Problem around line \d+/);var a="";if(null!=e){e=parseInt(e[0].match(/\d+/)[0]);a+='<button type="button" class="btn btn-danger"         onclick="wepsim_notify_close();                      var marked = '+b+".addLineClass("+(e-1)+", 'background', 'CodeMirror-selected');                 setTimeout(function() { "+b+".removeLineClass(marked, 'background', 'CodeMirror-selected'); }, 3000);		     var t = "+b+".charCoords({line: "+e+", ch: 0}, 'local').top;		     var middleHeight = "+b+".getScrollerElement().offsetHeight / 2;		     "+b+'.scrollTo(null, t - middleHeight - 5);">Go line '+e+"</button>&nbsp;"}wepsim_notify_error("<strong>ERROR</strong>",d+"<br><center>"+a+'<button type="button" class="btn btn-danger"         onclick="wepsim_notify_close();">Close</button></center>')}function wepsim_show_binary_code(b,a){$(a).html("<center><br>Loading binary, please wait...<br><br>WARNING: loading binary might take time on slow mobile devices.</center>");$(a).css({width:"100%",height:"inherit !important"});$(b).modal("show");setTimeout(function(){var d=get_simware();$(a).html(mp2html(d.mp,d.labels2,d.seg));for(var c in d.seg){$("#compile_begin_"+c).html("0x"+d.seg[c].begin.toString(16));$("#compile_end_"+c).html("0x"+d.seg[c].end.toString(16))}},300)}function wepsim_show_binary_microcode(b,a){$(a).html("<center><br>Loading binary, please wait...<br><br>WARNING: loading binary might take time on slow mobile devices.</center>");$(a).css({width:"100%",height:"inherit !important"});$(b).modal("show");setTimeout(function(){var c=get_simware();$(a).html(firmware2html(c.firmware,true));$(a).css({width:"inherit !important",height:"inherit !important"});$(b).enhanceWithin();$(b).trigger("updatelayout");$(b).trigger("refresh")},300)}function showhideAsmElements(){$("input:checkbox:checked").each(function(){var a="table ."+$(this).attr("name");$(a).show()});$("input:checkbox:not(:checked)").each(function(){var a="table ."+$(this).attr("name");$(a).hide()})}function set_ab_size(f,d,g){var e=g;var c=12-e;$(f).removeClass();$(d).removeClass();if(e!=0){$(f).addClass("col-"+e)}else{$(f).addClass("col-12 order-1")}if(c!=0){$(d).addClass("col-"+c)}else{$(d).addClass("col-12 order-2")}}function wepsim_activehw(f){simhw_setActive(f);var e=document.getElementById("svg_p");if(e!=null){e.setAttribute("data",simhw_active().sim_img_processor)}e=document.getElementById("svg_cu");if(e!=null){e.setAttribute("data",simhw_active().sim_img_controlunit)}e=document.getElementById("svg_p2");if(e!=null){e.setAttribute("data",simhw_active().sim_img_cpu)}var d=document.getElementById("svg_p");d.addEventListener("load",function(){sim_prepare_svg_p();sim_core_init_eventlistener("svg_p");refresh()},false);var c=document.getElementById("svg_cu");c.addEventListener("load",function(){sim_prepare_svg_cu();sim_core_init_eventlistener("svg_cu");refresh()},false);wepsim_notify_success("<strong>INFO</strong>",'"'+simhw_active().sim_name+'" has been activated.')}function wepsim_change_mode(a,b){if("wepmips"==a){wepsim_show_wepmips()}else{wepsim_hide_wepmips()}$(b).css("background-color","#F6F6F6");if("tutorial"==a){$(b).css("background-color","#D4DB17")}if("intro"==a){sim_tutorial_showframe("welcome",0)}if("wepsim"==a){wepsim_activehw(0)}}function wepsim_show_breakpoint_icon_list(){var c="<div class='container'><div class='row'>";var b="";for(var a=0;a<breakpoint_icon_list.length;a++){if(breakpoint_icon_list[a].type!=b){c=c+"</div><div class='row p-1'><div class='float-none text-left text-capitalize font-weight-bold col-12 border-bottom border-secondary'>"+breakpoint_icon_list[a].type+"</div></div><div class='row'>";b=breakpoint_icon_list[a].type}c=c+"<img src='images/stop_"+breakpoint_icon_list[a].shortname+".gif' alt='"+breakpoint_icon_list[a].shortname+" icon'      class='img-thumbnail img-fluid mx-3 d-block'     style='height:6vh;'     onclick=\"$('#img_select1').attr('src','images/stop_"+breakpoint_icon_list[a].shortname+".gif');	        set_cfg('ICON_theme','"+breakpoint_icon_list[a].shortname+"'); save_cfg();\">"}c=c+"</div></div>";return c}var tutorials={};tutorials.welcome={};tutorials.simpleusage={};tutorials.welcome.en=[];tutorials.welcome.en.push({id:"welcome",title:"Welcome to the WepSIM simulator!",message:"<center><img src='help/simulator/simulator012.jpg' style='max-width:100%; max-height:40vh;'></center><p><h5>WepSIM allows students and teacher to define the instruction set, and create any assembly program using the defined instruction set. Because WepSIM is visual, and integrates interruptions, system call, and exceptions, we really believe WepSIM is a revolutionary teaching tool. <br></h5>",code_pre:function(){},code_post:function(){},wait_next:100});tutorials.welcome.en.push({id:"welcome",title:"Welcome to the WepSIM simulator!",message:"<center><img src='help/simulator/simulator012.jpg' style='max-width:100%; max-height:40vh;'></center><p><h5>This brief tutorial is going to show you how to:<ol><li>Load an example.</li><li>Execute an example.</li><li>Configure the simulation.</li><li>Get help.</li></ol></h5>",code_pre:function(){},code_post:function(){},wait_next:100});tutorials.welcome.en.push({id:"welcome",title:"How to load some example.",message:"<center><img src='help/welcome/example_usage.gif' style='max-width:100%; max-height:60vh'></center><p><h5>Click in the 'example' button, then click in the example 'title' name.<br>Then the example for microcode and assembly is loaded and microcompiled and compiled.<br><br></h5>",code_pre:function(){},code_post:function(){},wait_next:100});tutorials.welcome.en.push({id:"welcome",title:"How to execute an example.",message:"<center><img src='help/welcome/simulation_xinstruction.gif' style='max-width:100%; max-height:60vh'></center><p><h5>Click on next instruction/microinstruction to execute step by step. <br>Click on run button to execute until the first breakpoint or the end of the assembly program.<br></h5>",code_pre:function(){},code_post:function(){},wait_next:100});tutorials.welcome.en.push({id:"welcome",title:"How to configure WepSIM.",message:"<center><img src='help/welcome/config_usage.gif' style='max-width:100%; max-height:60vh'></center><p><h5>Click in the 'configuration' button and users are able to customize different parts of WepSIM.<br></h5>",code_pre:function(){},code_post:function(){},wait_next:100});tutorials.welcome.en.push({id:"welcome",title:"How to get the basic help.",message:"<center><img src='help/welcome/help_usage.gif' style='max-width:100%; max-height:60vh'></center><p><h5>Please click in the green 'help' button to reach the help dialog.<br>You are able to switch idiom (Spanish/English), go to the help index, or close the help dialog.<br></h5>",code_pre:function(){},code_post:function(){},wait_next:100});tutorials.welcome.en.push({id:"welcome",title:"Welcome to WepSIM!",message:"<center><img src='help/welcome/help_usage.gif' style='max-width:100%; max-height:60vh'></center><p><h5><br>Please explorer the help sections for more information. <br>If you click on the end button of this tutorial, WepSIM is going to load the first example for you. Enjoy!<br></h5>",code_pre:function(){},code_post:function(){load_from_example_firmware("S1E1",true)},wait_next:100});tutorials.welcome.es=[];tutorials.welcome.es.push({id:"welcome",title:"¡Bienvenidos al simulador WepSIM!",message:"<center><img src='help/simulator/simulator012.jpg' style='max-width:100%; max-height:40vh;'></center><p><h5>WepSIM permite a estudiantes y profesores definir un juego de instrucciones, y crear cualquier programa de ensamblador que use dicho juego de instrucciones. Dado que WepSIM es visual, e integra interrupciones, llamadas al sistema, etc.nosotros realmente creemos que WepSIM es una herramienta revolucionaria. <br></h5>",code_pre:function(){},code_post:function(){},wait_next:100});tutorials.welcome.es.push({id:"welcome",title:"¡Bienvenidos al simulador WepSIM!",message:"<center><img src='help/simulator/simulator012.jpg' style='max-width:100%; max-height:40vh;'></center><p><h5>Este breve tutorial le mostrar&aacute;:<ol><li>Carga de un ejemplo.</li><li>Ejecución de ejemplo.</li><li>Configuraci&oacute;n del simulador.</li><li>Obtener ayuda.</li></ol></h5>",code_pre:function(){},code_post:function(){},wait_next:100});tutorials.welcome.es.push({id:"welcome",title:"C&oacute;mo cargar algunos ejemplos.",message:"<center><img src='help/welcome/example_usage.gif' style='max-width:100%; max-height:60vh'></center><p><h5>Haga click en el bot&oacute;n de 'examples' y haga click en el 't&iacute;tulo' del ejemplo que desea cargar.<br></h5>",code_pre:function(){},code_post:function(){},wait_next:100});tutorials.welcome.es.push({id:"welcome",title:"C&oacute;mo cargar algunos ejemplos.",message:"<center><img src='help/welcome/simulation_xinstruction.gif' style='max-width:100%; max-height:60vh'></center><p><h5>Haga click en next instruction/microinstruction para ejecutar paso a paso. <br>Haga click en run para ejecutar hasta el primer punto de ruptura o el fin del programa en ensamblador.<br></h5>",code_pre:function(){},code_post:function(){},wait_next:100});tutorials.welcome.es.push({id:"welcome",title:"C&oacute;mo configurar WepSIM.",message:"<center><img src='help/welcome/config_usage.gif' style='max-width:100%; max-height:60vh'></center><p><h5>Haga click en el bot&oacute;n de configuraci&oacute;n para configurar diversos aspectos de WepSIM para su comididad.<br></h5>",code_pre:function(){},code_post:function(){},wait_next:100});tutorials.welcome.es.push({id:"welcome",title:"C&oacute;mo conseguir la ayuda b&aacute;sica.",message:"<center><img src='help/welcome/help_usage.gif' style='max-width:100%; max-height:60vh'></center><p><h5>Haga click en el bot&oacute;n verde de ayuda 'help'.<br>Puede obtener la ayuda en Spanish/English, ir al &iacute;ndice de la ayuda o cerrar la pantalla de ayuda.<br></h5>",code_pre:function(){},code_post:function(){},wait_next:100});tutorials.welcome.es.push({id:"welcome",title:"¡Bienvenido a WepSIM!",message:"<center><img src='help/welcome/help_usage.gif' style='max-width:100%; max-height:60vh'></center><p><h5><br>Por favor explorer las secciones de la ayuda para m&aacute;s informaci&oacute;n. <br>Si hace click en el bot&oacute;n 'end' del tutorial entonces WepSIM cargar&aacute; el primer ejemplo por usted. ¡Diviertase aprendiendo!<br></h5>",code_pre:function(){},code_post:function(){load_from_example_firmware("S1E1",true)},wait_next:100});tutorials.simpleusage.en=[];tutorials.simpleusage.en.push({id:"simpleusage",title:"Simple WepSIM experience: microprogramming and programming",message:"<center><img src='help/simulator/simulator012.jpg' style='max-width:100%; max-height:40vh;'></center><p><h5>WepSIM allows students and teacher to define the instruction set, and create any assembly program using the defined instruction set. Because WepSIM is visual, and integrates interruptions, system call, and exceptions, we really believe WepSIM is a revolutionary teaching tool. <br></h5>",code_pre:function(){},code_post:function(){},wait_next:100});tutorials.simpleusage.en.push({id:"simpleusage",title:"Simple WepSIM experience: microprogramming and programming",message:"<center><img src='help/simulator/simulator011.jpg' style='max-width:100%; max-height:40vh;'></center><p><h5>This brief tutorial is going to show you how to:<ol><li>You can edit your microcode.</li><li>You can edit your assembly (based on the previous microcode).</li><li>Execution of the former assembly in the simulation.</li></ol></h5>",code_pre:function(){},code_post:function(){},wait_next:100});tutorials.simpleusage.en.push({id:"simpleusage",title:"Simple WepSIM experience: microprogramming and programming",message:"<center><img src='help/simulator/firmware001.jpg' style='max-width:100%; max-height:40vh;'></center><p><h5>The first step is to microprogramming the firmware to be used. Please use the 'Microcode' button to switch to the microcode screen.</h5>",code_pre:function(){},code_post:function(){},wait_next:100});tutorials.simpleusage.en.push({id:"simpleusage",title:"Simple WepSIM experience: microprogramming and programming",message:"<center><img src='help/simulator/firmware002.jpg' style='max-width:100%; max-height:40vh;'></center><p><h5>The microprogramming screen provides:<ul><li>The editor for the microcode.</li><li>The microcompiler.</li><li>The hardware summary and help.</li></ul>Once your code is ready (compiled without errors), next step is to go to the assembly screen.</h5>",code_pre:function(){},code_post:function(){},wait_next:100});tutorials.simpleusage.en.push({id:"simpleusage",title:"Simple WepSIM experience: microprogramming and programming",message:"<center><img src='help/simulator/assembly002.jpg' style='max-width:100%; max-height:40vh;'></center><p><h5>The second step is to programming the assembly to be executed. Please use the 'Assembly' button from both, the simulator screen or the microcode screen.</h5>",code_pre:function(){},code_post:function(){},wait_next:100});tutorials.simpleusage.en.push({id:"simpleusage",title:"Simple WepSIM experience: microprogramming and programming",message:"<center><img src='help/simulator/assembly003.jpg' style='max-width:100%; max-height:40vh;'></center><p><h5>The programming screen provides:<ul><li>The editor for the assembly code.</li><li>The assembly compiler.</li><li>The memory map viewer and help.</li></ul>Once your assebly code is ready (edited and compiled without errors) next step is to go into the simulation screen.</h5>",code_pre:function(){},code_post:function(){},wait_next:100});tutorials.simpleusage.en.push({id:"simpleusage",title:"Simple WepSIM experience: microprogramming and programming",message:"<center><img src='help/simulator/simulator010.jpg' style='max-width:100%; max-height:40vh;'></center><p><h5>The third step is to execute the assembly code in the simulator.The simulator screen provides:<ul><li>The assembly and hardware view.</li><li>The detail view of registers, control memory, main memory, etc.</li><li>The reset, step by step or run until breakpoint/end actions.</li></ul>This tutorial has introduced the typical usage of WepSIM for students and teachers. Enjoy WepSIM!</h5>",code_pre:function(){},code_post:function(){},wait_next:100});tutorials.simpleusage.es=[];tutorials.simpleusage.es.push({id:"simpleusage",title:"WepSIM: microprogramar, ensamblar y simular",message:"<center><img src='help/simulator/simulator012.jpg' style='max-max-width:100%; max-height:40vh;'></center><p><h5>WepSIM permite a estudiantes y profesores definir un juego de instrucciones, y crear cualquier programa de ensamblador que use dicho juego de instrucciones. Dado que WepSIM es visual, e integra interrupciones, llamadas al sistema, etc.nosotros realmente creemos que WepSIM es una herramienta revolucionaria. <br></h5>",code_pre:function(){},code_post:function(){},wait_next:100});tutorials.simpleusage.es.push({id:"simpleusage",title:"WepSIM: microprogramar, ensamblar y simular",message:"<center><img src='help/simulator/simulator011.jpg' style='max-width:100%; max-height:40vh;'></center><p><h5>Este breve tutorial le mostrar&aacute;:<ol><li>La edici&oacute;n de microc&oacute;digo.</li><li>La edici&oacute;n de c&oacute;digo ensamblador.</li><li>Ejecución del anterior ensamblador definido anteriormente.</li></ol></h5>",code_pre:function(){},code_post:function(){},wait_next:100});tutorials.simpleusage.es.push({id:"simpleusage",title:"WepSIM: microprogramar, ensamblar y simular",message:"<center><img src='help/simulator/firmware001.jpg' style='max-width:100%; max-height:40vh;'></center><p><h5>El primer paso es microprogramar el firmware a ser usado. Por favor use el bot&oacute;n de 'Microcode' para ir a la pantalla de trabajo del microc&oacute;digo.</h5>",code_pre:function(){},code_post:function(){},wait_next:100});tutorials.simpleusage.es.push({id:"simpleusage",title:"WepSIM: microprogramar, ensamblar y simular",message:"<center><img src='help/simulator/firmware002.jpg' style='max-width:100%; max-height:40vh;'></center><p><h5>La pantalla de microprogramación ofrece:<ul><li>El editor de microcr&oacute;digo.</li><li>El microcompilador.</li><li>El resumen del hardware y la ayuda.</li></ul>Una vez que el microc&oacute;digo est&eacute; listo (editado y compile sin errores) el siguiente paso el el c&oacute;digo ensamblador.</h5>",code_pre:function(){},code_post:function(){},wait_next:100});tutorials.simpleusage.es.push({id:"simpleusage",title:"WepSIM: microprogramar, ensamblar y simular",message:"<center><img src='help/simulator/assembly002.jpg' style='max-width:100%; max-height:40vh;'></center><p><h5>El segundo paso es programar el ensamblador a ser ejecutado. Por favor use el bot&oacute;n de 'Assembly' para ir a la pantalla de ensamblador.</h5>",code_pre:function(){},code_post:function(){},wait_next:100});tutorials.simpleusage.es.push({id:"simpleusage",title:"WepSIM: microprogramar, ensamblar y simular",message:"<center><img src='help/simulator/assembly003.jpg' style='max-width:100%; max-height:40vh;'></center><p><h5>La pantalla de programaci&oacute;n en ensamblador ofrece:<ul><li>El editor para el c&oacute;digo ensamblador.</li><li>El compilador de ensamblador.</li><li>El visualizador de mapa de memoria y ayuda.</li></ul>Asegure antes de ir a la pantalla del simulador que sud c&oacute;digo este listo (editado y compilado sin errores).</h5>",code_pre:function(){},code_post:function(){},wait_next:100});tutorials.simpleusage.es.push({id:"simpleusage",title:"WepSIM: microprogramar, ensamblar y simular",message:"<center><img src='help/simulator/simulator010.jpg' style='max-width:100%; max-height:40vh;'></center><p><h5>El tercer paso es ejecutar el c&oacute;digo ensamblador en el ensamblador.La pantalla de simulación ofrece:<ul><li>Las vista de ensamblador y hardware.</li><li>Los detalles de registros, memoria de control, memoria principal, etc.</li><li>Las acciones de reinicio, ejecución paso a paso o hasta punto de ruptura (o fin).</li></ul>Este tutorial ha introducido el uso t&iacute;pico de WepSIM para estudiantes y profesores. ¡Disfrute con WepSIM!.</h5>",code_pre:function(){},code_post:function(){},wait_next:100});var tour_steps={};tour_steps.onbeforechange=function(){if(this._currentStep===1){$("#menu1a").click();tour.refresh();return true}else{if(this._currentStep===3){$("#btn_example1").click();tour.refresh();return true}else{if(this._currentStep===4){$("#S1E1").click();tour.refresh();return true}else{if(this._currentStep===5){$("#nm1").click();tour.refresh();return true}else{if(this._currentStep===6){$("#tab24").click();$("#ni1").click();tour.refresh();return true}else{if(this._currentStep===8){$("#menu1a").click()}}}}}}};tour_steps.en=[{intro:"Welcome to WepSIM!<br> This initial very brief tour will introduce you to execute a example"},{element:"#menu1a",intro:"On the top-right, the menu lets you access to the microcode editor, the assembly editor, and the simulation screen.<br>On the bottom, help, examples, and the configuration dialogs."},{element:"#btn_example1",intro:"In order to load some example please click in the menu button, and then in the example button...",position:"auto"},{element:"#example1",intro:'... and finally click in the example "title" name you wish to work with. For example, "Instructions".',position:"auto"},{element:"#nm1",intro:"Click on the next microinstruction to execute at microprogramming level..."},{element:"#eltos_cpu",intro:'... and in the circuit you can follow the how a assembly instruction is "microexecuted".'},{element:"#ni1",intro:"Click on the next instruction to execute at assembly level..."},{element:"#asm_debugger",intro:"... and in the assembly space students can follow the execution of assembly instructions..."},{element:"#btn_help1",intro:"Please, check the on-line help for more tutorials.<br>Remember to disable the tutorial mode in the configuration after learning from tutorials"}];tour_steps.es=[{intro:"Bienvenidos a WepSIM!<br> Este breve tutorial presentará lo esencial del funcionamiento con un ejemplo."},{element:"#menu1a",intro:"En la esquina superior derecha está el bot&oacute;n de men&uacute; que le permite acceder al editor de microc&oacute;digo, el editor de ensamblador y la pantalla del simulador.<br>En la parte inferior est&aacute; la ayuda, los ejemplos y la configuraci&oacute;n."},{element:"#btn_example1",intro:"Haga click en el bot&oacute;n del men&uacute; y a continuaci&oacute;n en el bot&oacute;n de ejemplos...",position:"right"},{element:"#example1",intro:'... finalmente haga click en el t&iacute;tulo del ejemplo con el que quiera trabajar. Por ejemplo, "Instructions"...',position:"left"},{element:"#nm1",intro:"Haga click en siguiene microinstruction para ejecutar a nivel de microprograma..."},{element:"#eltos_cpu",intro:'... en la circuiter&iacute;a podr&aacute; seguir como una instrucci&oacute;n de ensamblador se "microejecuta".'},{element:"#ni1",intro:"Haga click en siguiene microinstruction para ejecutar a nivel de ensamblador..."},{element:"#asm_debugger",intro:"... en el panel de ensamblador podr&aacute; seguir la ejecuci&oacute;n de instrucciones."},{element:"#btn_help1",intro:"Por favor revise la ayuda para m&aacute;s tutoriales.<br>Recuerde desactivar el modo tutorial en la configuraci&oacute;n despu&eacute;s de aprender de los tutoriales"}];var help={};help.en=[];help.en.push({id:"simulator",title:"Welcome tutorial",i_type:"code",u_type:"tutorial",reference:"wepsim_close_help(); sim_tutorial_showframe('welcome', 0);",description:"Open the welcome tutorial.<br>"});help.en.push({id:"simulator",title:"Simple usage tutorial",i_type:"code",u_type:"tutorial",reference:"wepsim_close_help(); sim_tutorial_showframe('simpleusage', 0);",description:"Open the simple usage tutorial, for microprogramming and assembly programming.<br>"});help.en.push({id:"simulator",title:"Simulator usage",i_type:"relative",u_type:"manual",reference:"#help_simulator_screens",description:"Description of how the simulator works.<br>"});help.en.push({id:"microcode",title:"Microcode format",i_type:"relative",u_type:"manual",reference:"#help_firmware_format",description:"Syntax of the microcode used.<br>"});help.en.push({id:"assembly",title:"Assembly format",i_type:"relative",u_type:"manual",reference:"#help_assembly_format",description:"Syntax of the assembly elements.<br>"});help.en.push({id:"architecture",title:"Simulated architecture",i_type:"relative",u_type:"manual",reference:"#help_simulator_arch",description:"Description of the elemental processor architecture.<br>"});help.en.push({id:"architecture",title:"Simulated signals",i_type:"absolute",u_type:"manual",reference:"signals",description:"Main signals summary of the simulated elemental processor.<br>"});help.en.push({id:"architecture",title:"Hardware summary",i_type:"code",u_type:"manual",reference:"wepsim_open_help_content('<object id=svg_p2 data=\\'sim_hw/sim_hw_ep/cpu6.svg?time=20180108\\' type=image/svg+xml>Your browser does not support SVG</object>');",description:"Reference card for the simulated elemental processor hardware.<br>"});help.en.push({id:"simulator",title:"Signal dependencies",i_type:"code",u_type:"info",reference:"wepsim_open_help_content('<div id=depgraph1>...</div>'); show_visgraph(jit_fire_dep, jit_fire_order);",description:"Graph of the signal dependencies (it needs several seconds to be displayed).<br>"});help.en.push({id:"about",title:"License, platforms, etc.",i_type:"absolute",u_type:"info",reference:"about",description:"WepSIM license, supported platforms, technologies used.<br>"});help.es=[];help.es.push({id:"simulator",title:"Tutorial de bienvenida",i_type:"code",u_type:"tutorial",reference:"wepsim_close_help(); sim_tutorial_showframe('welcome', 0);",description:"Tutorial de bienvenida.<br>"});help.es.push({id:"simulator",title:"Tutorial simple de uso",i_type:"code",u_type:"tutorial",reference:"wepsim_close_help(); sim_tutorial_showframe('simpleusage', 0);",description:"Tutorial de uso simple, ejemplo básico para microprogramar y programar en ensamblador.<br>"});help.es.push({id:"simulator",title:"Uso del simulador",i_type:"relative",u_type:"manual",reference:"#help_simulator_screens",description:"Descripción de cómo funciona el simulador.<br>"});help.es.push({id:"microcode",title:"Formato del microcódigo",i_type:"relative",u_type:"manual",reference:"#help_firmware_format",description:"Sintáxis del microcódigo usado.<br>"});help.es.push({id:"assembly",title:"Formato del ensamblador",i_type:"relative",u_type:"manual",reference:"#help_assembly_format",description:"Sintáxis del ensamblador.<br>"});help.es.push({id:"architecture",title:"Arquitectura del simulador",i_type:"relative",u_type:"manual",reference:"#help_simulator_arch",description:"Descripción de la arquitectura del procesador elemental.<br>"});help.es.push({id:"architecture",title:"Señales simuladas",i_type:"absolute",u_type:"manual",reference:"signals",description:"Resumen de las señales principales del procesador elemental.<br>"});help.es.push({id:"architecture",title:"Resumen del Hardware",i_type:"code",u_type:"manual",reference:"wepsim_open_help_content('<object id=svg_p2 data=\\'sim_hw/sim_hw_ep/cpu6.svg?time=20180108\\' type=image/svg+xml>Your browser does not support SVG</object>');",description:"Resumen del hardware del procesador elemental simulado.<br>"});help.es.push({id:"simulator",title:"Dependencias entre señales",i_type:"code",u_type:"info",reference:"wepsim_open_help_content('<div id=depgraph1>...</div>'); show_visgraph(jit_fire_dep, jit_fire_order);",description:"Gráfico de las dependencias entre señales (puede necesitar varios segundos para generarse).<br>"});help.es.push({id:"about",title:"Licencia, plataformas, etc.",i_type:"absolute",u_type:"info",reference:"about",description:"Licencia de WepSIM, plataformas disponibles, tecnologías usadas.<br>"});var examples={};examples.en=[];examples.en.push({id:"S1E1",title:"Instructions",level:"Initial",description:"Simple example with fetch, arithmetic instructions, and basic .text segment.<br>"});examples.en.push({id:"S1E2",title:"Memory access",level:"Initial",description:"Simple example with fetch, memory access, and basic .text/.data segment.<br>"});examples.en.push({id:"S1E3",title:"Looping",level:"Initial",description:"Simple example with fetch, branch, and basic .text segment.<br>"});examples.en.push({id:"S1E4",title:"Vector",level:"Initial",description:"Simple example with fetch, branch, and basic .text/.data segment.<br>"});examples.en.push({id:"S2E1",title:"I/O",level:"Intermediate",description:"Example with programmed I/O access, and basic .text/.data segment.<br>"});examples.en.push({id:"S2E2",title:"Subrutine",level:"Intermediate",description:"Extended example with more instructions and I/O (keyboard, display).<br>"});examples.en.push({id:"S2E3",title:"Masks & shift",level:"Intermediate",description:"More extended example with masks, shift, and basic .text/.data segment.<br>"});examples.en.push({id:"S2E4",title:"Matrix",level:"Intermediate",description:"Extended example with subrutine and matrix.<br>"});examples.en.push({id:"S3E1",title:"Interruptions",level:"Advanced",description:"<b>Instructive</b> example with interruptions support: fetch, RETI, and .ktext/.kdata.<br>"});examples.en.push({id:"S3E2",title:"System call",level:"Advanced",description:"<b>Instructive</b> example with system call support.<br>"});examples.en.push({id:"S3E3",title:"Exception",level:"Advanced",description:"<b>Instructive</b> example with floating point exception.<br>"});examples.en.push({id:"S3E4",title:"Int. + syscall + except.",level:"Advanced",description:"Advanced example with interruption, system call, and exception.<br>"});examples.en.push({id:"S4E3",title:"strlen_2 + skipasciicode_2",level:"Special",description:"Application-specific extension: strlen_2 + skipasciicode_2.<br>"});examples.en.push({id:"S4E2",title:"addv + seqv.",level:"Special",description:"Application-specific extension: addv + seqv.<br>"});examples.en.push({id:"S4E1",title:"syscall 1, 4-5, 8, 11-12",level:"Special",description:"Example of syscall for printing/reading integer and string.<br>"});examples.es=[];examples.es.push({id:"S1E1",title:"Instrucciones",level:"Inicial",description:"Ejemplo simple con fetch, instrucciones aritm&eacute;ticas y segmento de c&oacute;digo b&aacute;sico.<br>"});examples.es.push({id:"S1E2",title:"Acceso a memoria",level:"Inicial",description:"Ejemplo simple con fetch, acceso a memoria y segmento de c&oacute;digo/datos b&aacute;sico.<br>"});examples.es.push({id:"S1E3",title:"Bucles",level:"Inicial",description:"Ejemplo simple con fetch, salto y segmento de c&oacute;digo b&aacute;sico.<br>"});examples.es.push({id:"S1E4",title:"Vector",level:"Inicial",description:"Ejemplo simple con fetch, salto y segmento de datos/c&oacute;digo b&aacute;sico.<br>"});examples.es.push({id:"S2E1",title:"E/S",level:"Intermedio",description:"Ejemplo ampliado con E/S programada, segmento de datos/c&oacute;digo b&aacute;sico.<br>"});examples.es.push({id:"S2E2",title:"Subrutina",level:"Intermedio",description:"Ejemplo ampliado con m&aacute;s instrucciones y E/S (keyboard, display).<br>"});examples.es.push({id:"S2E3",title:"M&aacute;scaras y desplazamientos",level:"Intermedio",description:"Ejemplo ampliado con m&aacute;scaras, desplazamientos y segmento de datos/c&oacute;digo b&aacute;sico.<br>"});examples.es.push({id:"S2E4",title:"Matriz",level:"Intermedio",description:"Ejemplo ampliado con subrutina y matriz.<br>"});examples.es.push({id:"S3E1",title:"Interrupciones",level:"Avanzado",description:"<b>Instructive</b> example con interrupciones: fetch, RETI y .ktext/.kdata.<br>"});examples.es.push({id:"S3E2",title:"Llamada al sistema",level:"Avanzado",description:"<b>Instructive</b> example con llamada al sistema.<br>"});examples.es.push({id:"S3E3",title:"Excepci&oacute;n",level:"Avanzado",description:"<b>Instructive</b> example con excepci&oacute;n de coma flotante.<br>"});examples.es.push({id:"S3E4",title:"Int. + syscall + except.",level:"Avanzado",description:"Ejemplo avanzado con interrupci&oacute;n, llamada al sistema y excepci&oacute;n.<br>"});examples.es.push({id:"S4E3",title:"strlen_2 + skipasciicode_2",level:"Especial",description:"Extensiones espec&iacute;ficas de aplicaci&oacute;n: strlen_2 + skipasciicode_2.<br>"});examples.es.push({id:"S4E2",title:"addv + seqv.",level:"Especial",description:"Extensiones espec&iacute;ficas de aplicaci&oacute;n: addv + seqv.<br>"});examples.es.push({id:"S4E1",title:"syscall 1, 4-5, 8, 11-12",level:"Especial",description:"Ejemplo de llamada al sistema para imprimir/leer entero y cadena de caracteres.<br>"});var breakpoint_icon_list=[{type:"classic",shortname:"classic",origin:"https://www.optikunde.de/farbe/rot.php"},{type:"classic",shortname:"pushpin",origin:"http://clipart-library.com/red-push-pin.html"},{type:"comics",shortname:"super",origin:"https://worldvectorlogo.com/logo/superman-3"},{type:"comics",shortname:"batman",origin:"http://getwallpapers.com/collection/black-and-white-batman-wallpaper"},{type:"pets",shortname:"cat1",origin:""},{type:"pets",shortname:"dog1",origin:""},{type:"films",shortname:"r2d2",origin:"https://imgur.com/gallery/gKSmy"},{type:"films",shortname:"sw",origin:"https://i2.wp.com/icons.iconarchive.com/icons/sensibleworld/starwars/1024/Death-Star-icon.png"},{type:"films",shortname:"bb8",origin:""},{type:"films",shortname:"vader1",origin:""},{type:"films",shortname:"grail",origin:"http://3png.com/a-31243892.html"},{type:"films",shortname:"despicable",origin:"https://www.helloforos.com/t/cerrado/350821/81"},{type:"films",shortname:"lotr4",origin:"http://www.cinecollectibles.com/gentle-giant-c-1_62.html"},{type:"films",shortname:"lotr2",origin:"https://www.forbes.com/sites/adrianbridgwater/2016/01/15/microsoft-r-one-big-data-tool-to-rule-them-all/"},{type:"films",shortname:"hp1",origin:"http://www.logosclicks.com/logos/harry-potter-name-logo-46a93c.html"}];